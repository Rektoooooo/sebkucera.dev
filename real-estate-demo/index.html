<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>LuxeEstate - Premier Real Estate Agency</title>
    <link rel="stylesheet" href="../dist/output.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* Color Palette */
        :root {
            --primary: #1a365d;
            --secondary: #c9a87a;
            --accent: #2c7a7b;
            --neutral-light: #f7fafc;
            --neutral: #e2e8f0;
            --neutral-dark: #4a5568;
            --dark: #1a202c;
        }

        .dark {
            --primary: #2d3748;
            --neutral-light: #1a202c;
            --neutral: #2d3748;
            --dark: #f7fafc;
        }

        /* Typography */
        body {
            font-family: 'Inter', sans-serif;
            color: var(--dark);
            transition: background-color 0.3s, color 0.3s;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Playfair Display', serif;
        }

        /* Dark Mode */
        .dark {
            background-color: #1a202c;
            color: #f7fafc;
        }

        .dark .bg-white {
            background-color: #2d3748 !important;
        }

        .dark .text-gray-900 {
            color: #f7fafc !important;
        }

        .dark .text-gray-700 {
            color: #cbd5e0 !important;
        }

        .dark .text-gray-600 {
            color: #a0aec0 !important;
        }

        .dark .border-gray-200 {
            border-color: #4a5568 !important;
        }

        /* Hero Section */
        .hero-overlay {
            background: linear-gradient(135deg, rgba(26, 54, 93, 0.9) 0%, rgba(26, 54, 93, 0.7) 100%);
        }

        /* Property Card Hover Effect */
        .property-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .property-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        /* Filter Animations */
        .filter-tag {
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Smooth transitions */
        * {
            transition-property: color, background-color, border-color;
            transition-duration: 0.2s;
            transition-timing-function: ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-50">

    <!-- Navigation -->
    <nav class="fixed w-full bg-white/95 backdrop-blur-md shadow-md z-50 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <!-- Logo -->
                <div class="flex items-center">
                    <div class="flex items-center space-x-2">
                        <i class="bi bi-buildings text-3xl" style="color: var(--secondary);"></i>
                        <div>
                            <span class="text-2xl font-bold text-gray-900" style="font-family: 'Playfair Display', serif;">LuxeEstate</span>
                            <p class="text-xs" style="color: var(--secondary);">Premier Properties</p>
                        </div>
                    </div>
                </div>

                <!-- Desktop Navigation -->
                <div class="hidden lg:flex items-center space-x-8">
                    <a href="#home" class="text-gray-700 hover:text-blue-900 font-medium transition-colors">Home</a>
                    <a href="#properties" class="text-gray-700 hover:text-blue-900 font-medium transition-colors">Properties</a>
                    <a href="#agents" class="text-gray-700 hover:text-blue-900 font-medium transition-colors">Agents</a>
                    <a href="#about" class="text-gray-700 hover:text-blue-900 font-medium transition-colors">About</a>
                    <a href="#contact" class="text-gray-700 hover:text-blue-900 font-medium transition-colors">Contact</a>
                </div>

                <!-- Right Side Actions -->
                <div class="flex items-center gap-4">
                    <!-- Favorites Button -->
                    <button id="viewFavorites" class="hidden sm:flex items-center gap-2 px-4 py-2 rounded-full hover:bg-gray-100 transition-colors relative">
                        <i class="bi bi-heart-fill text-xl" style="color: var(--secondary);"></i>
                        <span id="favCount" class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold hidden">0</span>
                    </button>

                    <!-- Contact Button -->
                    <a href="#contact" class="hidden sm:inline-block px-6 py-2.5 rounded-full font-semibold text-white transition-all hover:scale-105" style="background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);">
                        Schedule Tour
                    </a>

                    <!-- Mobile Menu Button -->
                    <button id="mobileMenuButton" class="lg:hidden text-gray-700 text-2xl">
                        <i class="bi bi-list"></i>
                    </button>
                </div>
            </div>

            <!-- Mobile Menu -->
            <div id="mobileMenu" class="lg:hidden hidden bg-white border-t border-gray-200">
                <div class="px-4 py-6 space-y-4">
                    <a href="#home" class="block text-gray-700 hover:text-blue-900 font-medium transition-colors py-2">Home</a>
                    <a href="#properties" class="block text-gray-700 hover:text-blue-900 font-medium transition-colors py-2">Properties</a>
                    <a href="#agents" class="block text-gray-700 hover:text-blue-900 font-medium transition-colors py-2">Agents</a>
                    <a href="#about" class="block text-gray-700 hover:text-blue-900 font-medium transition-colors py-2">About</a>
                    <a href="#contact" class="block text-gray-700 hover:text-blue-900 font-medium transition-colors py-2">Contact</a>
                    <a href="#contact" class="block w-full text-center px-6 py-2.5 rounded-full font-semibold text-white transition-all" style="background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);">
                        Schedule Tour
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="relative min-h-screen flex items-center justify-center overflow-hidden py-20">
        <div class="absolute inset-0 bg-cover bg-center z-0" style="background-image: url('https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?q=80&w=2400');"></div>
        <div class="hero-overlay absolute inset-0 z-10"></div>

        <div class="relative z-20 text-center text-white px-4 max-w-6xl mx-auto">
            <h1 class="text-5xl md:text-6xl lg:text-7xl font-bold mb-6">Find Your Dream Home</h1>
            <p class="text-xl md:text-2xl mb-12 text-gray-200">Discover luxury properties in the most prestigious locations</p>

            <!-- Search Bar Overlay -->
            <div class="bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-6 md:p-8 max-w-5xl mx-auto">
                <div class="flex flex-wrap gap-4 mb-4">
                    <button class="px-6 py-2 rounded-full font-semibold transition-all bg-blue-900 text-white">Buy</button>
                    <button class="px-6 py-2 rounded-full font-semibold transition-all text-gray-700 hover:bg-gray-100">Rent</button>
                    <button class="px-6 py-2 rounded-full font-semibold transition-all text-gray-700 hover:bg-gray-100">Sell</button>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <div class="md:col-span-2">
                        <input id="heroSearchLocation" type="text" placeholder="City, neighborhood, or ZIP code" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 bg-white text-gray-900">
                    </div>
                    <div>
                        <select id="heroSearchType" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 bg-white text-gray-900">
                            <option value="">Property Type</option>
                            <option value="House">House</option>
                            <option value="Apartment">Apartment</option>
                            <option value="Condo">Condo</option>
                            <option value="Villa">Villa</option>
                            <option value="Penthouse">Penthouse</option>
                        </select>
                    </div>
                    <div>
                        <select id="heroSearchPrice" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 bg-white text-gray-900">
                            <option value="5000000">Any Price</option>
                            <option value="500000">$0 - $500K</option>
                            <option value="1000000">$500K - $1M</option>
                            <option value="2000000">$1M - $2M</option>
                            <option value="3000000">$2M - $3M</option>
                            <option value="5000000">$3M+</option>
                        </select>
                    </div>
                </div>

                <button id="heroSearchButton" class="w-full md:w-auto px-12 py-4 mt-6 rounded-full font-bold text-white text-lg transition-all hover:scale-105 shadow-lg" style="background: linear-gradient(135deg, var(--accent) 0%, #2c7a7b 100%);">
                    <i class="bi bi-search mr-2"></i>Search Properties
                </button>
            </div>

            <!-- Stats -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mt-16">
                <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6">
                    <div class="text-4xl font-bold mb-2" style="color: var(--secondary);">500+</div>
                    <div class="text-gray-200">Properties Listed</div>
                </div>
                <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6">
                    <div class="text-4xl font-bold mb-2" style="color: var(--secondary);">1200+</div>
                    <div class="text-gray-200">Happy Clients</div>
                </div>
                <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6">
                    <div class="text-4xl font-bold mb-2" style="color: var(--secondary);">50+</div>
                    <div class="text-gray-200">Expert Agents</div>
                </div>
                <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6">
                    <div class="text-4xl font-bold mb-2" style="color: var(--secondary);">25</div>
                    <div class="text-gray-200">Years Experience</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Properties Section -->
    <section id="properties" class="py-20 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-bold mb-4 text-gray-900">Featured Properties</h2>
                <p class="text-xl text-gray-600">Explore our handpicked selection of premium homes</p>
            </div>

            <!-- Property Grid -->
            <div id="propertyGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Property Card 1 -->
                <div class="property-card bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-shadow" data-price="1250000" data-beds="4" data-baths="3" data-location="Los Angeles" data-type="Villa" data-amenities="pool,garage,garden">
                    <div class="relative">
                        <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=800" alt="Modern Villa" class="w-full h-64 object-cover">
                        <div class="absolute top-4 left-4 px-3 py-1 rounded-full text-white text-sm font-semibold" style="background-color: var(--secondary);">Featured</div>
                        <div class="absolute top-4 right-4 flex gap-2">
                            <button class="favorite-btn w-10 h-10 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform" data-property-id="1">
                                <i class="bi bi-heart text-gray-700"></i>
                            </button>
                            <label class="compare-checkbox w-10 h-10 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform cursor-pointer">
                                <input type="checkbox" class="hidden compare-input" data-property-id="1" data-property-name="Modern Luxury Villa" data-property-price="1250000" data-property-beds="4" data-property-baths="3" data-property-sqft="3200" data-property-location="Beverly Hills, Los Angeles" data-property-image="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=800">
                                <i class="bi bi-check-square text-gray-700"></i>
                            </label>
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-3xl font-bold" style="color: var(--primary);">$1,250,000</span>
                            <span class="px-3 py-1 bg-blue-100 text-blue-900 rounded-full text-sm font-semibold">For Sale</span>
                        </div>
                        <h3 class="text-xl font-bold mb-2 text-gray-900">Modern Luxury Villa</h3>
                        <p class="text-gray-600 mb-4 flex items-center">
                            <i class="bi bi-geo-alt mr-2"></i>Beverly Hills, Los Angeles
                        </p>
                        <div class="grid grid-cols-3 gap-4 py-4 border-t border-gray-200">
                            <div class="text-center">
                                <div class="text-gray-900 font-semibold"><i class="bi bi-door-open mr-1"></i>4</div>
                                <div class="text-sm text-gray-600">Beds</div>
                            </div>
                            <div class="text-center">
                                <div class="text-gray-900 font-semibold"><i class="bi bi-droplet mr-1"></i>3</div>
                                <div class="text-sm text-gray-600">Baths</div>
                            </div>
                            <div class="text-center">
                                <div class="text-gray-900 font-semibold">3,200</div>
                                <div class="text-sm text-gray-600">Sq Ft</div>
                            </div>
                        </div>
                        <button class="view-details-btn w-full py-3 rounded-lg font-semibold text-white transition-all hover:scale-105 mt-4" style="background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);">
                            View Details
                        </button>
                    </div>
                </div>

                <!-- Property Card 2 -->
                <div class="property-card bg-white rounded-2xl overflow-hidden shadow-lg" data-price="2100000" data-beds="3" data-baths="2.5" data-location="New York" data-type="Penthouse" data-amenities="gym,garage">
                    <div class="relative">
                        <img src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=800" alt="Downtown Penthouse" class="w-full h-64 object-cover">
                        <div class="absolute top-4 left-4 px-3 py-1 bg-red-500 rounded-full text-white text-sm font-semibold">New</div>
                        <div class="absolute top-4 right-4 flex gap-2">
                            <button class="favorite-btn w-10 h-10 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform" data-property-id="2">
                                <i class="bi bi-heart text-gray-700"></i>
                            </button>
                            <label class="compare-checkbox w-10 h-10 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform cursor-pointer">
                                <input type="checkbox" class="hidden compare-input" data-property-id="2" data-property-name="Downtown Penthouse" data-property-price="2100000" data-property-beds="3" data-property-baths="2.5" data-property-sqft="2800" data-property-location="Manhattan, New York" data-property-image="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=800">
                                <i class="bi bi-check-square text-gray-700"></i>
                            </label>
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-3xl font-bold" style="color: var(--primary);">$2,100,000</span>
                            <span class="px-3 py-1 bg-blue-100 text-blue-900 rounded-full text-sm font-semibold">For Sale</span>
                        </div>
                        <h3 class="text-xl font-bold mb-2 text-gray-900">Downtown Penthouse</h3>
                        <p class="text-gray-600 mb-4 flex items-center">
                            <i class="bi bi-geo-alt mr-2"></i>Manhattan, New York
                        </p>
                        <div class="grid grid-cols-3 gap-4 py-4 border-t border-gray-200">
                            <div class="text-center">
                                <div class="text-gray-900 font-semibold"><i class="bi bi-door-open mr-1"></i>3</div>
                                <div class="text-sm text-gray-600">Beds</div>
                            </div>
                            <div class="text-center">
                                <div class="text-gray-900 font-semibold"><i class="bi bi-droplet mr-1"></i>2.5</div>
                                <div class="text-sm text-gray-600">Baths</div>
                            </div>
                            <div class="text-center">
                                <div class="text-gray-900 font-semibold">2,800</div>
                                <div class="text-sm text-gray-600">Sq Ft</div>
                            </div>
                        </div>
                        <button class="view-details-btn w-full py-3 rounded-lg font-semibold text-white transition-all hover:scale-105 mt-4" style="background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);">
                            View Details
                        </button>
                    </div>
                </div>

                <!-- Property Card 3 -->
                <div class="property-card bg-white rounded-2xl overflow-hidden shadow-lg" data-price="3500000" data-beds="5" data-baths="4" data-location="Los Angeles" data-type="House" data-amenities="pool,garage,garden,gym">
                    <div class="relative">
                        <img src="https://images.unsplash.com/photo-1613490493576-7fde63acd811?q=80&w=800" alt="Beachfront Estate" class="w-full h-64 object-cover">
                        <div class="absolute top-4 right-4 flex gap-2">
                            <button class="favorite-btn w-10 h-10 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform" data-property-id="3">
                                <i class="bi bi-heart text-gray-700"></i>
                            </button>
                            <label class="compare-checkbox w-10 h-10 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform cursor-pointer">
                                <input type="checkbox" class="hidden compare-input" data-property-id="3" data-property-name="Beachfront Estate" data-property-price="3500000" data-property-beds="5" data-property-baths="4" data-property-sqft="4500" data-property-location="Malibu, California" data-property-image="https://images.unsplash.com/photo-1613490493576-7fde63acd811?q=80&w=800">
                                <i class="bi bi-check-square text-gray-700"></i>
                            </label>
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-3xl font-bold" style="color: var(--primary);">$3,500,000</span>
                            <span class="px-3 py-1 bg-blue-100 text-blue-900 rounded-full text-sm font-semibold">For Sale</span>
                        </div>
                        <h3 class="text-xl font-bold mb-2 text-gray-900">Beachfront Estate</h3>
                        <p class="text-gray-600 mb-4 flex items-center">
                            <i class="bi bi-geo-alt mr-2"></i>Malibu, California
                        </p>
                        <div class="grid grid-cols-3 gap-4 py-4 border-t border-gray-200">
                            <div class="text-center">
                                <div class="text-gray-900 font-semibold"><i class="bi bi-door-open mr-1"></i>5</div>
                                <div class="text-sm text-gray-600">Beds</div>
                            </div>
                            <div class="text-center">
                                <div class="text-gray-900 font-semibold"><i class="bi bi-droplet mr-1"></i>4</div>
                                <div class="text-sm text-gray-600">Baths</div>
                            </div>
                            <div class="text-center">
                                <div class="text-gray-900 font-semibold">4,500</div>
                                <div class="text-sm text-gray-600">Sq Ft</div>
                            </div>
                        </div>
                        <button class="view-details-btn w-full py-3 rounded-lg font-semibold text-white transition-all hover:scale-105 mt-4" style="background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);">
                            View Details
                        </button>
                    </div>
                </div>

                <!-- Property Card 4 -->
                <div class="property-card bg-white rounded-2xl overflow-hidden shadow-lg" data-price="850000" data-beds="3" data-baths="2" data-location="Los Angeles" data-type="Condo" data-amenities="garage,gym">
                    <div class="relative">
                        <img src="https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?q=80&w=800" alt="Urban Condo" class="w-full h-64 object-cover">
                        <div class="absolute top-4 right-4 flex gap-2">
                            <button class="favorite-btn w-10 h-10 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform" data-property-id="4">
                                <i class="bi bi-heart text-gray-700"></i>
                            </button>
                            <label class="compare-checkbox w-10 h-10 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform cursor-pointer">
                                <input type="checkbox" class="hidden compare-input" data-property-id="4" data-property-name="Urban Condo" data-property-price="850000" data-property-beds="3" data-property-baths="2" data-property-sqft="1900" data-property-location="Los Angeles, California" data-property-image="https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?q=80&w=800">
                                <i class="bi bi-check-square text-gray-700"></i>
                            </label>
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-3xl font-bold" style="color: var(--primary);">$850,000</span>
                            <span class="px-3 py-1 bg-blue-100 text-blue-900 rounded-full text-sm font-semibold">For Sale</span>
                        </div>
                        <h3 class="text-xl font-bold mb-2 text-gray-900">Urban Condo</h3>
                        <p class="text-gray-600 mb-4 flex items-center">
                            <i class="bi bi-geo-alt mr-2"></i>Los Angeles, California
                        </p>
                        <div class="grid grid-cols-3 gap-4 py-4 border-t border-gray-200">
                            <div class="text-center">
                                <div class="text-gray-900 font-semibold"><i class="bi bi-door-open mr-1"></i>3</div>
                                <div class="text-sm text-gray-600">Beds</div>
                            </div>
                            <div class="text-center">
                                <div class="text-gray-900 font-semibold"><i class="bi bi-droplet mr-1"></i>2</div>
                                <div class="text-sm text-gray-600">Baths</div>
                            </div>
                            <div class="text-center">
                                <div class="text-gray-900 font-semibold">1,900</div>
                                <div class="text-sm text-gray-600">Sq Ft</div>
                            </div>
                        </div>
                        <button class="view-details-btn w-full py-3 rounded-lg font-semibold text-white transition-all hover:scale-105 mt-4" style="background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);">
                            View Details
                        </button>
                    </div>
                </div>

                <!-- Property Card 5 -->
                <div class="property-card bg-white rounded-2xl overflow-hidden shadow-lg" data-price="1650000" data-beds="4" data-baths="3.5" data-location="San Francisco" data-type="House" data-amenities="garden,garage">
                    <div class="relative">
                        <img src="https://images.unsplash.com/photo-1564013799919-ab600027ffc6?q=80&w=800" alt="Victorian House" class="w-full h-64 object-cover">
                        <div class="absolute top-4 right-4 flex gap-2">
                            <button class="favorite-btn w-10 h-10 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform" data-property-id="5">
                                <i class="bi bi-heart text-gray-700"></i>
                            </button>
                            <label class="compare-checkbox w-10 h-10 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform cursor-pointer">
                                <input type="checkbox" class="hidden compare-input" data-property-id="5" data-property-name="Victorian House" data-property-price="1650000" data-property-beds="4" data-property-baths="3.5" data-property-sqft="2900" data-property-location="San Francisco, California" data-property-image="https://images.unsplash.com/photo-1564013799919-ab600027ffc6?q=80&w=800">
                                <i class="bi bi-check-square text-gray-700"></i>
                            </label>
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-3xl font-bold" style="color: var(--primary);">$1,650,000</span>
                            <span class="px-3 py-1 bg-blue-100 text-blue-900 rounded-full text-sm font-semibold">For Sale</span>
                        </div>
                        <h3 class="text-xl font-bold mb-2 text-gray-900">Victorian House</h3>
                        <p class="text-gray-600 mb-4 flex items-center">
                            <i class="bi bi-geo-alt mr-2"></i>San Francisco, California
                        </p>
                        <div class="grid grid-cols-3 gap-4 py-4 border-t border-gray-200">
                            <div class="text-center">
                                <div class="text-gray-900 font-semibold"><i class="bi bi-door-open mr-1"></i>4</div>
                                <div class="text-sm text-gray-600">Beds</div>
                            </div>
                            <div class="text-center">
                                <div class="text-gray-900 font-semibold"><i class="bi bi-droplet mr-1"></i>3.5</div>
                                <div class="text-sm text-gray-600">Baths</div>
                            </div>
                            <div class="text-center">
                                <div class="text-gray-900 font-semibold">2,900</div>
                                <div class="text-sm text-gray-600">Sq Ft</div>
                            </div>
                        </div>
                        <button class="view-details-btn w-full py-3 rounded-lg font-semibold text-white transition-all hover:scale-105 mt-4" style="background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);">
                            View Details
                        </button>
                    </div>
                </div>

                <!-- Property Card 6 -->
                <div class="property-card bg-white rounded-2xl overflow-hidden shadow-lg" data-price="975000" data-beds="2" data-baths="2" data-location="Miami" data-type="Apartment" data-amenities="pool,gym">
                    <div class="relative">
                        <img src="https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=800" alt="Waterfront Apartment" class="w-full h-64 object-cover">
                        <div class="absolute top-4 right-4 flex gap-2">
                            <button class="favorite-btn w-10 h-10 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform" data-property-id="6">
                                <i class="bi bi-heart text-gray-700"></i>
                            </button>
                            <label class="compare-checkbox w-10 h-10 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform cursor-pointer">
                                <input type="checkbox" class="hidden compare-input" data-property-id="6" data-property-name="Waterfront Apartment" data-property-price="975000" data-property-beds="2" data-property-baths="2" data-property-sqft="1600" data-property-location="Miami, Florida" data-property-image="https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=800">
                                <i class="bi bi-check-square text-gray-700"></i>
                            </label>
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-3xl font-bold" style="color: var(--primary);">$975,000</span>
                            <span class="px-3 py-1 bg-blue-100 text-blue-900 rounded-full text-sm font-semibold">For Sale</span>
                        </div>
                        <h3 class="text-xl font-bold mb-2 text-gray-900">Waterfront Apartment</h3>
                        <p class="text-gray-600 mb-4 flex items-center">
                            <i class="bi bi-geo-alt mr-2"></i>Miami, Florida
                        </p>
                        <div class="grid grid-cols-3 gap-4 py-4 border-t border-gray-200">
                            <div class="text-center">
                                <div class="text-gray-900 font-semibold"><i class="bi bi-door-open mr-1"></i>2</div>
                                <div class="text-sm text-gray-600">Beds</div>
                            </div>
                            <div class="text-center">
                                <div class="text-gray-900 font-semibold"><i class="bi bi-droplet mr-1"></i>2</div>
                                <div class="text-sm text-gray-600">Baths</div>
                            </div>
                            <div class="text-center">
                                <div class="text-gray-900 font-semibold">1,600</div>
                                <div class="text-sm text-gray-600">Sq Ft</div>
                            </div>
                        </div>
                        <button class="view-details-btn w-full py-3 rounded-lg font-semibold text-white transition-all hover:scale-105 mt-4" style="background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);">
                            View Details
                        </button>
                    </div>
                </div>
            </div>

            <!-- No Results Message -->
            <div id="noResults" class="hidden text-center py-16">
                <i class="bi bi-search text-6xl text-gray-300 mb-4"></i>
                <h3 class="text-2xl font-bold text-gray-900 mb-2">No Properties Found</h3>
                <p class="text-gray-600">Try adjusting your filters to see more results</p>
            </div>

            <div class="text-center mt-12">
                <p id="resultsCount" class="text-gray-700 mb-4">Showing <span class="font-bold">6</span> properties</p>
            </div>
        </div>
    </section>

    <!-- Agent Profiles Section -->
    <section class="py-20 bg-gradient-to-b from-white to-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl md:text-5xl font-bold mb-4 text-gray-900">Find Your Perfect Property</h2>
                <p class="text-xl text-gray-600">Use our advanced filters to narrow down your search</p>
            </div>

            <!-- Filters Panel -->
            <div class="bg-white border border-gray-200 rounded-2xl p-6 md:p-8 shadow-xl mb-8">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <!-- Location Filter -->
                    <div>
                        <label class="block text-sm font-semibold mb-2 text-gray-700">Location</label>
                        <select id="filterLocation" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 bg-gray-50 text-gray-900">
                            <option value="">All Locations</option>
                            <option value="Los Angeles">Los Angeles</option>
                            <option value="New York">New York</option>
                            <option value="Miami">Miami</option>
                            <option value="San Francisco">San Francisco</option>
                        </select>
                    </div>

                    <!-- Property Type Filter -->
                    <div>
                        <label class="block text-sm font-semibold mb-2 text-gray-700">Property Type</label>
                        <select id="filterType" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 bg-gray-50 text-gray-900">
                            <option value="">All Types</option>
                            <option value="House">House</option>
                            <option value="Apartment">Apartment</option>
                            <option value="Condo">Condo</option>
                            <option value="Villa">Villa</option>
                            <option value="Penthouse">Penthouse</option>
                        </select>
                    </div>

                    <!-- Bedrooms Filter -->
                    <div>
                        <label class="block text-sm font-semibold mb-2 text-gray-700">Bedrooms</label>
                        <select id="filterBeds" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 bg-gray-50 text-gray-900">
                            <option value="0">Any</option>
                            <option value="1">1+</option>
                            <option value="2">2+</option>
                            <option value="3">3+</option>
                            <option value="4">4+</option>
                            <option value="5">5+</option>
                        </select>
                    </div>

                    <!-- Bathrooms Filter -->
                    <div>
                        <label class="block text-sm font-semibold mb-2 text-gray-700">Bathrooms</label>
                        <select id="filterBaths" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 bg-gray-50 text-gray-900">
                            <option value="0">Any</option>
                            <option value="1">1+</option>
                            <option value="2">2+</option>
                            <option value="3">3+</option>
                            <option value="4">4+</option>
                        </select>
                    </div>
                </div>

                <!-- Price Range Slider -->
                <div class="mt-6">
                    <label class="block text-sm font-semibold mb-2 text-gray-700">Price Range</label>
                    <div class="px-4">
                        <input type="range" id="filterPrice" min="0" max="5000000" step="100000" value="5000000" class="w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer">
                        <div class="flex justify-between mt-2">
                            <span class="text-sm font-semibold text-gray-700">$0</span>
                            <span id="priceValue" class="text-sm font-semibold" style="color: var(--secondary);">$2,500,000</span>
                            <span class="text-sm font-semibold text-gray-700">$5,000,000+</span>
                        </div>
                    </div>
                </div>

                <!-- Amenities Checkboxes -->
                <div class="mt-6">
                    <label class="block text-sm font-semibold mb-3 text-gray-700">Amenities</label>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <label class="flex items-center">
                            <input type="checkbox" id="amenityPool" class="amenity-filter w-4 h-4 text-blue-900 rounded focus:ring-2 focus:ring-blue-900" data-amenity="pool">
                            <span class="ml-2 text-sm text-gray-700">Pool</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" id="amenityGarage" class="amenity-filter w-4 h-4 text-blue-900 rounded focus:ring-2 focus:ring-blue-900" data-amenity="garage">
                            <span class="ml-2 text-sm text-gray-700">Garage</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" id="amenityGarden" class="amenity-filter w-4 h-4 text-blue-900 rounded focus:ring-2 focus:ring-blue-900" data-amenity="garden">
                            <span class="ml-2 text-sm text-gray-700">Garden</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" id="amenityGym" class="amenity-filter w-4 h-4 text-blue-900 rounded focus:ring-2 focus:ring-blue-900" data-amenity="gym">
                            <span class="ml-2 text-sm text-gray-700">Gym</span>
                        </label>
                    </div>
                </div>

                <!-- Search Button -->
                <div class="mt-6 flex gap-4">
                    <button id="resetFilters" class="px-6 py-3 rounded-lg font-semibold text-gray-700 border-2 border-gray-300 hover:bg-gray-100 transition-all">
                        <i class="bi bi-arrow-clockwise mr-2"></i>Reset Filters
                    </button>
                </div>
            </div>

            <!-- Results Info -->
            <div class="flex justify-between items-center mb-6">
                <p id="filterResultsText" class="text-gray-700">Use filters above to search properties</p>
            </div>
        </div>
    </section>

    <!-- Agent Profiles Section -->
    <section id="agents" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-bold mb-4 text-gray-900">Meet Our Expert Agents</h2>
                <p class="text-xl text-gray-600">Work with the best in the business</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Agent 1 -->
                <div class="bg-gray-50 rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-shadow">
                    <div class="relative">
                        <img src="https://www.mashvisor.com/blog/wp-content/uploads/2020/06/10-Benefits-of-Hiring-a-Real-Estate-Agent.jpg?q=80&w=400" alt="Agent" class="w-full h-64 object-cover" style="object-position: center 10%;">
                        <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4">
                            <div class="flex items-center gap-2">
                                <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                                <span class="text-white font-semibold">4.9 (127 reviews)</span>
                            </div>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-1 text-gray-900">Michael Chen</h3>
                        <p class="text-sm mb-4" style="color: var(--secondary);">Senior Real Estate Advisor</p>
                        <p class="text-gray-600 text-sm mb-4">Specializing in luxury properties and investment real estate with 15+ years of experience.</p>
                        <div class="flex gap-2 mb-4">
                            <span class="px-3 py-1 bg-blue-100 text-blue-900 rounded-full text-xs">Luxury Homes</span>
                            <span class="px-3 py-1 bg-blue-100 text-blue-900 rounded-full text-xs">Investments</span>
                        </div>
                        <div class="space-y-2 text-sm text-gray-600 mb-4">
                            <p><i class="bi bi-telephone mr-2"></i>(555) 123-4567</p>
                            <p><i class="bi bi-envelope mr-2"></i>m.chen@luxeestate.com</p>
                        </div>
                        <button class="w-full py-2 rounded-lg font-semibold text-white transition-all hover:scale-105" style="background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);">
                            Contact Agent
                        </button>
                    </div>
                </div>

                <!-- Agent 2 -->
                <div class="bg-gray-50 rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-shadow">
                    <div class="relative">
                        <img src="https://www.mashvisor.com/blog/wp-content/uploads/2019/07/What-Are-the-Pros-and-Cons-of-Being-a-Real-Estate-Agent.jpg?q=80&w=400" alt="Agent" class="w-full h-64 object-cover" style="object-position: center 10%;">
                        <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4">
                            <div class="flex items-center gap-2">
                                <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                                <span class="text-white font-semibold">5.0 (94 reviews)</span>
                            </div>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-1 text-gray-900">Sarah Martinez</h3>
                        <p class="text-sm mb-4" style="color: var(--secondary);">Residential Specialist</p>
                        <p class="text-gray-600 text-sm mb-4">Expert in family homes and first-time buyers. Fluent in English and Spanish.</p>
                        <div class="flex gap-2 mb-4">
                            <span class="px-3 py-1 bg-blue-100 text-blue-900 rounded-full text-xs">Family Homes</span>
                            <span class="px-3 py-1 bg-blue-100 text-blue-900 rounded-full text-xs">First-Time</span>
                        </div>
                        <div class="space-y-2 text-sm text-gray-600 mb-4">
                            <p><i class="bi bi-telephone mr-2"></i>(555) 234-5678</p>
                            <p><i class="bi bi-envelope mr-2"></i>s.martinez@luxeestate.com</p>
                        </div>
                        <button class="w-full py-2 rounded-lg font-semibold text-white transition-all hover:scale-105" style="background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);">
                            Contact Agent
                        </button>
                    </div>
                </div>

                <!-- Agent 3 -->
                <div class="bg-gray-50 rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-shadow">
                    <div class="relative">
                        <img src="https://www.realestate.com.au/news-image/w_1280,h_720/v1681361659/stock-assets/editorial-use-only/joshtesolin.jpg?_i=AA?q=80&w=400" alt="Agent" class="w-full h-64 object-cover" style="object-position: center 10%;">
                        <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4">
                            <div class="flex items-center gap-2">
                                <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                                <span class="text-white font-semibold">4.8 (156 reviews)</span>
                            </div>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-1 text-gray-900">James Robinson</h3>
                        <p class="text-sm mb-4" style="color: var(--secondary);">Commercial Property Expert</p>
                        <p class="text-gray-600 text-sm mb-4">20+ years in commercial real estate, specializing in office and retail spaces.</p>
                        <div class="flex gap-2 mb-4">
                            <span class="px-3 py-1 bg-blue-100 text-blue-900 rounded-full text-xs">Commercial</span>
                            <span class="px-3 py-1 bg-blue-100 text-blue-900 rounded-full text-xs">Office</span>
                        </div>
                        <div class="space-y-2 text-sm text-gray-600 mb-4">
                            <p><i class="bi bi-telephone mr-2"></i>(555) 345-6789</p>
                            <p><i class="bi bi-envelope mr-2"></i>j.robinson@luxeestate.com</p>
                        </div>
                        <button class="w-full py-2 rounded-lg font-semibold text-white transition-all hover:scale-105" style="background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);">
                            Contact Agent
                        </button>
                    </div>
                </div>

                <!-- Agent 4 -->
                <div class="bg-gray-50 rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-shadow">
                    <div class="relative">
                        <img src="https://s3.us-west-1.amazonaws.com/redwood-labs/showpage/uploads/images/53dc954e-19bf-4523-834d-6ab7d7fcc7ec.jpg?q=80&w=400" alt="Agent" class="w-full h-64 object-cover" style="object-position: center 10%;">
                        <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4">
                            <div class="flex items-center gap-2">
                                <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                                <span class="text-white font-semibold">4.9 (203 reviews)</span>
                            </div>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-1 text-gray-900">Emily Thompson</h3>
                        <p class="text-sm mb-4" style="color: var(--secondary);">Luxury Property Consultant</p>
                        <p class="text-gray-600 text-sm mb-4">Exclusive representation for high-end estates and waterfront properties.</p>
                        <div class="flex gap-2 mb-4">
                            <span class="px-3 py-1 bg-blue-100 text-blue-900 rounded-full text-xs">Luxury</span>
                            <span class="px-3 py-1 bg-blue-100 text-blue-900 rounded-full text-xs">Waterfront</span>
                        </div>
                        <div class="space-y-2 text-sm text-gray-600 mb-4">
                            <p><i class="bi bi-telephone mr-2"></i>(555) 456-7890</p>
                            <p><i class="bi bi-envelope mr-2"></i>e.thompson@luxeestate.com</p>
                        </div>
                        <button class="w-full py-2 rounded-lg font-semibold text-white transition-all hover:scale-105" style="background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);">
                            Contact Agent
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About & Calculator Section -->
    <section id="about" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- About Content -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center mb-20">
                <!-- Left: Images -->
                <div class="relative">
                    <div class="grid grid-cols-2 gap-4">
                        <div class="space-y-4">
                            <img src="https://images.unsplash.com/photo-1560518883-ce09059eeffa?q=80&w=600" alt="Luxury Home" class="rounded-2xl shadow-lg w-full h-64 object-cover">
                            <img src="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?q=80&w=600" alt="Modern Interior" class="rounded-2xl shadow-lg w-full h-48 object-cover">
                        </div>
                        <div class="space-y-4 mt-8">
                            <img src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=600" alt="Elegant Living Room" class="rounded-2xl shadow-lg w-full h-48 object-cover">
                            <img src="https://images.unsplash.com/photo-1600585154526-990dced4db0d?q=80&w=600" alt="Beautiful Property" class="rounded-2xl shadow-lg w-full h-64 object-cover">
                        </div>
                    </div>
                    <!-- Floating Badge -->
                    <div class="absolute -bottom-6 -right-6 bg-white rounded-2xl shadow-2xl p-6 max-w-xs">
                        <div class="flex items-center gap-4">
                            <div class="w-16 h-16 rounded-full bg-gradient-to-br from-blue-900 to-blue-700 flex items-center justify-center">
                                <i class="bi bi-award text-3xl text-white"></i>
                            </div>
                            <div>
                                <p class="text-2xl font-bold text-gray-900">15+</p>
                                <p class="text-sm text-gray-600">Years Experience</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right: Content -->
                <div>
                    <div class="mb-6">
                        <span class="px-4 py-2 bg-blue-100 text-blue-900 rounded-full text-sm font-semibold">About LuxeEstate</span>
                    </div>
                    <h2 class="text-4xl md:text-5xl font-bold mb-6 text-gray-900">Your Trusted Partner in Finding the Perfect Home</h2>
                    <p class="text-lg text-gray-600 mb-6 leading-relaxed">
                        Since 2010, LuxeEstate has been at the forefront of luxury real estate, helping thousands of clients find their dream homes. We combine cutting-edge technology with personalized service to deliver an unmatched real estate experience.
                    </p>
                    <p class="text-lg text-gray-600 mb-8 leading-relaxed">
                        Our team of experienced agents specializes in high-end residential properties across major metropolitan areas. We understand that buying or selling a home is one of life's most significant decisions, and we're here to guide you every step of the way.
                    </p>

                    <!-- Stats -->
                    <div class="grid grid-cols-3 gap-6 mb-8">
                        <div class="text-center p-4 bg-gray-50 rounded-xl">
                            <p class="text-3xl font-bold text-gray-900 mb-1">$2B+</p>
                            <p class="text-sm text-gray-600">Properties Sold</p>
                        </div>
                        <div class="text-center p-4 bg-gray-50 rounded-xl">
                            <p class="text-3xl font-bold text-gray-900 mb-1">580+</p>
                            <p class="text-sm text-gray-600">Happy Clients</p>
                        </div>
                        <div class="text-center p-4 bg-gray-50 rounded-xl">
                            <p class="text-3xl font-bold text-gray-900 mb-1">98%</p>
                            <p class="text-sm text-gray-600">Success Rate</p>
                        </div>
                    </div>

                    <!-- Features -->
                    <div class="space-y-4">
                        <div class="flex items-start gap-4">
                            <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0">
                                <i class="bi bi-check-circle-fill text-xl" style="color: var(--primary);"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-gray-900 mb-1">Expert Market Knowledge</h4>
                                <p class="text-gray-600">In-depth understanding of local markets and property values to ensure the best deals.</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-4">
                            <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0">
                                <i class="bi bi-check-circle-fill text-xl" style="color: var(--primary);"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-gray-900 mb-1">Personalized Service</h4>
                                <p class="text-gray-600">Dedicated agents who understand your unique needs and preferences.</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-4">
                            <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0">
                                <i class="bi bi-check-circle-fill text-xl" style="color: var(--primary);"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-gray-900 mb-1">Advanced Technology</h4>
                                <p class="text-gray-600">Virtual tours, 3D walkthroughs, and cutting-edge tools for seamless transactions.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Mortgage Calculator -->
            <div class="bg-gradient-to-br from-gray-50 to-blue-50 rounded-3xl p-8 lg:p-12">
                <div class="text-center mb-8">
                    <h2 class="text-3xl md:text-4xl font-bold mb-4 text-gray-900">Mortgage Calculator</h2>
                    <p class="text-lg text-gray-600">Calculate your monthly mortgage payments</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Calculator Form -->
                    <div class="space-y-6">
                        <div>
                            <label for="homePrice" class="block text-sm font-semibold text-gray-700 mb-2">Home Price</label>
                            <div class="relative">
                                <span class="absolute left-4 top-1/2 -translate-y-1/2 text-gray-500">$</span>
                                <input type="number" id="homePrice" value="500000" min="0" step="1000" class="w-full pl-8 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                        </div>

                        <div>
                            <label for="downPayment" class="block text-sm font-semibold text-gray-700 mb-2">Down Payment (%)</label>
                            <input type="number" id="downPayment" value="20" min="0" max="100" step="1" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <p id="downPaymentValue" class="text-sm text-gray-600 mt-2">20% ($100,000)</p>
                        </div>

                        <div>
                            <label for="loanTerm" class="block text-sm font-semibold text-gray-700 mb-2">Loan Term (Years)</label>
                            <select id="loanTerm" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="15">15 years</option>
                                <option value="20">20 years</option>
                                <option value="30" selected>30 years</option>
                            </select>
                        </div>

                        <div>
                            <label for="interestRate" class="block text-sm font-semibold text-gray-700 mb-2">Interest Rate (%)</label>
                            <input type="number" id="interestRate" value="6.5" min="0" max="20" step="0.01" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>
                    </div>

                    <!-- Results -->
                    <div class="bg-white rounded-2xl p-8 shadow-lg">
                        <h3 class="text-xl font-bold mb-6 text-gray-900">Monthly Payment Breakdown</h3>

                        <div class="mb-8">
                            <p class="text-sm text-gray-600 mb-2">Total Monthly Payment</p>
                            <p id="monthlyPayment" class="text-4xl font-bold text-gray-900">$2,528</p>
                        </div>

                        <div class="space-y-4 pt-6 border-t border-gray-200">
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">Principal & Interest</span>
                                <span id="principalInterest" class="font-semibold text-gray-900">$2,528</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">Property Tax & Insurance</span>
                                <span id="taxInsurance" class="font-semibold text-gray-900">$0</span>
                            </div>
                        </div>

                        <div class="mt-6 pt-6 border-t border-gray-200">
                            <div class="grid grid-cols-2 gap-4 text-center">
                                <div class="bg-gray-50 rounded-xl p-4">
                                    <p class="text-sm text-gray-600 mb-1">Loan Amount</p>
                                    <p id="loanAmount" class="text-lg font-bold text-gray-900">$400,000</p>
                                </div>
                                <div class="bg-gray-50 rounded-xl p-4">
                                    <p class="text-sm text-gray-600 mb-1">Total Interest</p>
                                    <p id="totalInterest" class="text-lg font-bold text-gray-900">$510,000</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Market Statistics Section -->
    <section id="market-stats" class="py-20 bg-gradient-to-br from-gray-50 to-blue-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl md:text-5xl font-bold mb-4 text-gray-900">Market Statistics</h2>
                <p class="text-xl text-gray-600">Real-time insights into the real estate market</p>
            </div>

            <!-- Key Metrics -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
                <div class="bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-shadow">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center">
                            <i class="bi bi-graph-up-arrow text-2xl" style="color: var(--primary);"></i>
                        </div>
                        <span class="px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold">
                            <i class="bi bi-arrow-up"></i> 12.5%
                        </span>
                    </div>
                    <h3 class="text-3xl font-bold text-gray-900 mb-1">$847K</h3>
                    <p class="text-sm text-gray-600">Average Home Price</p>
                </div>

                <div class="bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-shadow">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center">
                            <i class="bi bi-clock-history text-2xl" style="color: var(--secondary);"></i>
                        </div>
                        <span class="px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold">
                            <i class="bi bi-arrow-down"></i> 3 days
                        </span>
                    </div>
                    <h3 class="text-3xl font-bold text-gray-900 mb-1">28 Days</h3>
                    <p class="text-sm text-gray-600">Average Days on Market</p>
                </div>

                <div class="bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-shadow">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center">
                            <i class="bi bi-houses text-2xl text-purple-700"></i>
                        </div>
                        <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold">
                            Active
                        </span>
                    </div>
                    <h3 class="text-3xl font-bold text-gray-900 mb-1">1,247</h3>
                    <p class="text-sm text-gray-600">Properties for Sale</p>
                </div>

                <div class="bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-shadow">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center">
                            <i class="bi bi-percent text-2xl text-green-700"></i>
                        </div>
                        <span class="px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-semibold">
                            <i class="bi bi-arrow-up"></i> 0.3%
                        </span>
                    </div>
                    <h3 class="text-3xl font-bold text-gray-900 mb-1">6.8%</h3>
                    <p class="text-sm text-gray-600">Mortgage Rate (30yr)</p>
                </div>
            </div>

            <!-- Charts Section -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                <!-- Price Trend Chart -->
                <div class="bg-white rounded-2xl p-6 shadow-lg">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-bold text-gray-900">Average Price Trends</h3>
                        <select id="priceChartPeriod" class="px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-900">
                            <option value="6m">Last 6 Months</option>
                            <option value="1y" selected>Last Year</option>
                            <option value="2y">Last 2 Years</option>
                        </select>
                    </div>
                    <div class="relative h-64">
                        <canvas id="priceChart"></canvas>
                    </div>
                    <div class="mt-4 pt-4 border-t border-gray-200 grid grid-cols-3 gap-4 text-center">
                        <div>
                            <p class="text-2xl font-bold text-gray-900">$723K</p>
                            <p class="text-xs text-gray-600">Jan 2024</p>
                        </div>
                        <div>
                            <p class="text-2xl font-bold" style="color: var(--primary);">$847K</p>
                            <p class="text-xs text-gray-600">Oct 2025</p>
                        </div>
                        <div>
                            <p class="text-2xl font-bold text-green-600">+17.2%</p>
                            <p class="text-xs text-gray-600">Growth</p>
                        </div>
                    </div>
                </div>

                <!-- Sales Volume Chart -->
                <div class="bg-white rounded-2xl p-6 shadow-lg">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-bold text-gray-900">Monthly Sales Volume</h3>
                        <div class="flex gap-3 text-xs">
                            <span class="flex items-center gap-1">
                                <div class="w-3 h-3 rounded-full" style="background-color: var(--primary);"></div>
                                Sales
                            </span>
                            <span class="flex items-center gap-1">
                                <div class="w-3 h-3 rounded-full" style="background-color: var(--secondary);"></div>
                                Listings
                            </span>
                        </div>
                    </div>
                    <div class="relative h-64">
                        <canvas id="volumeChart"></canvas>
                    </div>
                    <div class="mt-4 pt-4 border-t border-gray-200 grid grid-cols-2 gap-4 text-center">
                        <div>
                            <p class="text-2xl font-bold" style="color: var(--primary);">834</p>
                            <p class="text-xs text-gray-600">Properties Sold (Oct)</p>
                        </div>
                        <div>
                            <p class="text-2xl font-bold" style="color: var(--secondary);">1,247</p>
                            <p class="text-xs text-gray-600">New Listings (Oct)</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Property Types Distribution -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Property Types Pie Chart -->
                <div class="bg-white rounded-2xl p-6 shadow-lg lg:col-span-1">
                    <h3 class="text-xl font-bold text-gray-900 mb-6">Property Types</h3>
                    <div class="relative h-64 flex items-center justify-center">
                        <canvas id="propertyTypesChart"></canvas>
                    </div>
                </div>

                <!-- Price Distribution by Location -->
                <div class="bg-white rounded-2xl p-6 shadow-lg lg:col-span-2">
                    <h3 class="text-xl font-bold text-gray-900 mb-6">Average Price by Location</h3>
                    <div class="space-y-4">
                        <div>
                            <div class="flex justify-between mb-2">
                                <span class="text-sm font-semibold text-gray-900">Beverly Hills, LA</span>
                                <span class="text-sm font-bold" style="color: var(--primary);">$1,245,000</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-4 overflow-hidden">
                                <div class="h-full rounded-full flex items-center justify-end pr-2" style="width: 95%; background: linear-gradient(90deg, var(--primary) 0%, #2c5282 100%);">
                                    <span class="text-xs text-white font-semibold">95%</span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-2">
                                <span class="text-sm font-semibold text-gray-900">Manhattan, NY</span>
                                <span class="text-sm font-bold" style="color: var(--primary);">$1,180,000</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-4 overflow-hidden">
                                <div class="h-full rounded-full flex items-center justify-end pr-2" style="width: 90%; background: linear-gradient(90deg, var(--primary) 0%, #2c5282 100%);">
                                    <span class="text-xs text-white font-semibold">90%</span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-2">
                                <span class="text-sm font-semibold text-gray-900">South Beach, Miami</span>
                                <span class="text-sm font-bold" style="color: var(--primary);">$985,000</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-4 overflow-hidden">
                                <div class="h-full rounded-full flex items-center justify-end pr-2" style="width: 75%; background: linear-gradient(90deg, var(--primary) 0%, #2c5282 100%);">
                                    <span class="text-xs text-white font-semibold">75%</span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-2">
                                <span class="text-sm font-semibold text-gray-900">Pacific Heights, SF</span>
                                <span class="text-sm font-bold" style="color: var(--primary);">$920,000</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-4 overflow-hidden">
                                <div class="h-full rounded-full flex items-center justify-end pr-2" style="width: 70%; background: linear-gradient(90deg, var(--primary) 0%, #2c5282 100%);">
                                    <span class="text-xs text-white font-semibold">70%</span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-2">
                                <span class="text-sm font-semibold text-gray-900">Downtown Austin</span>
                                <span class="text-sm font-bold" style="color: var(--primary);">$625,000</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-4 overflow-hidden">
                                <div class="h-full rounded-full flex items-center justify-end pr-2" style="width: 48%; background: linear-gradient(90deg, var(--primary) 0%, #2c5282 100%);">
                                    <span class="text-xs text-white font-semibold">48%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl md:text-5xl font-bold mb-4 text-gray-900">Client Testimonials</h2>
                <p class="text-xl text-gray-600">See what our happy clients have to say about their experience</p>
            </div>

            <!-- Overall Rating Summary -->
            <div class="max-w-3xl mx-auto mb-12 bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-8 text-center">
                <div class="flex items-center justify-center gap-2 mb-3">
                    <i class="bi bi-star-fill text-4xl" style="color: var(--secondary);"></i>
                    <span class="text-5xl font-bold text-gray-900">4.9</span>
                </div>
                <div class="flex justify-center gap-1 mb-3">
                    <i class="bi bi-star-fill text-2xl" style="color: var(--secondary);"></i>
                    <i class="bi bi-star-fill text-2xl" style="color: var(--secondary);"></i>
                    <i class="bi bi-star-fill text-2xl" style="color: var(--secondary);"></i>
                    <i class="bi bi-star-fill text-2xl" style="color: var(--secondary);"></i>
                    <i class="bi bi-star-half text-2xl" style="color: var(--secondary);"></i>
                </div>
                <p class="text-gray-700 font-semibold text-lg">Based on 580+ verified reviews</p>
            </div>

            <!-- Rating Distribution -->
            <div class="max-w-2xl mx-auto mb-16">
                <div class="space-y-3">
                    <div class="flex items-center gap-4">
                        <span class="text-sm font-semibold text-gray-900 w-12">5 star</span>
                        <div class="flex-1 bg-gray-200 rounded-full h-3 overflow-hidden">
                            <div class="h-full rounded-full" style="width: 85%; background: linear-gradient(90deg, var(--secondary) 0%, #d97706 100%);"></div>
                        </div>
                        <span class="text-sm font-semibold text-gray-600 w-12 text-right">85%</span>
                    </div>
                    <div class="flex items-center gap-4">
                        <span class="text-sm font-semibold text-gray-900 w-12">4 star</span>
                        <div class="flex-1 bg-gray-200 rounded-full h-3 overflow-hidden">
                            <div class="h-full rounded-full" style="width: 10%; background: linear-gradient(90deg, var(--secondary) 0%, #d97706 100%);"></div>
                        </div>
                        <span class="text-sm font-semibold text-gray-600 w-12 text-right">10%</span>
                    </div>
                    <div class="flex items-center gap-4">
                        <span class="text-sm font-semibold text-gray-900 w-12">3 star</span>
                        <div class="flex-1 bg-gray-200 rounded-full h-3 overflow-hidden">
                            <div class="h-full rounded-full" style="width: 3%; background: linear-gradient(90deg, var(--secondary) 0%, #d97706 100%);"></div>
                        </div>
                        <span class="text-sm font-semibold text-gray-600 w-12 text-right">3%</span>
                    </div>
                    <div class="flex items-center gap-4">
                        <span class="text-sm font-semibold text-gray-900 w-12">2 star</span>
                        <div class="flex-1 bg-gray-200 rounded-full h-3 overflow-hidden">
                            <div class="h-full rounded-full" style="width: 1%; background: linear-gradient(90deg, var(--secondary) 0%, #d97706 100%);"></div>
                        </div>
                        <span class="text-sm font-semibold text-gray-600 w-12 text-right">1%</span>
                    </div>
                    <div class="flex items-center gap-4">
                        <span class="text-sm font-semibold text-gray-900 w-12">1 star</span>
                        <div class="flex-1 bg-gray-200 rounded-full h-3 overflow-hidden">
                            <div class="h-full rounded-full" style="width: 1%; background: linear-gradient(90deg, var(--secondary) 0%, #d97706 100%);"></div>
                        </div>
                        <span class="text-sm font-semibold text-gray-600 w-12 text-right">1%</span>
                    </div>
                </div>
            </div>

            <!-- Testimonial Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Testimonial 1 -->
                <div class="bg-gray-50 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-shadow">
                    <div class="flex items-center gap-1 mb-4">
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                    </div>
                    <p class="text-gray-700 mb-6 leading-relaxed">
                        "Michael Chen helped us find our dream home in Beverly Hills. His expertise and dedication made the entire process smooth and stress-free. Highly recommended!"
                    </p>
                    <div class="flex items-center gap-3">
                        <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=80" alt="Client" class="w-12 h-12 rounded-full object-cover">
                        <div>
                            <p class="font-bold text-gray-900">Jennifer Martinez</p>
                            <p class="text-sm text-gray-600">Homeowner, Beverly Hills</p>
                        </div>
                    </div>
                    <div class="mt-4 pt-4 border-t border-gray-200">
                        <p class="text-xs text-gray-500"><i class="bi bi-check-circle-fill mr-1" style="color: var(--secondary);"></i>Verified Purchase</p>
                    </div>
                </div>

                <!-- Testimonial 2 -->
                <div class="bg-gray-50 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-shadow">
                    <div class="flex items-center gap-1 mb-4">
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                    </div>
                    <p class="text-gray-700 mb-6 leading-relaxed">
                        "Outstanding service from start to finish! Sarah was incredibly patient and helped us navigate the complex NYC real estate market. We couldn't be happier!"
                    </p>
                    <div class="flex items-center gap-3">
                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=80" alt="Client" class="w-12 h-12 rounded-full object-cover">
                        <div>
                            <p class="font-bold text-gray-900">David Thompson</p>
                            <p class="text-sm text-gray-600">First-time Buyer, New York</p>
                        </div>
                    </div>
                    <div class="mt-4 pt-4 border-t border-gray-200">
                        <p class="text-xs text-gray-500"><i class="bi bi-check-circle-fill mr-1" style="color: var(--secondary);"></i>Verified Purchase</p>
                    </div>
                </div>

                <!-- Testimonial 3 -->
                <div class="bg-gray-50 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-shadow">
                    <div class="flex items-center gap-1 mb-4">
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                    </div>
                    <p class="text-gray-700 mb-6 leading-relaxed">
                        "Professional, knowledgeable, and truly cares about clients. Emily found us the perfect waterfront property that exceeded all our expectations!"
                    </p>
                    <div class="flex items-center gap-3">
                        <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?q=80&w=80" alt="Client" class="w-12 h-12 rounded-full object-cover">
                        <div>
                            <p class="font-bold text-gray-900">Lisa Anderson</p>
                            <p class="text-sm text-gray-600">Luxury Buyer, Miami</p>
                        </div>
                    </div>
                    <div class="mt-4 pt-4 border-t border-gray-200">
                        <p class="text-xs text-gray-500"><i class="bi bi-check-circle-fill mr-1" style="color: var(--secondary);"></i>Verified Purchase</p>
                    </div>
                </div>

                <!-- Testimonial 4 -->
                <div class="bg-gray-50 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-shadow">
                    <div class="flex items-center gap-1 mb-4">
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                    </div>
                    <p class="text-gray-700 mb-6 leading-relaxed">
                        "As an investor, I've worked with many agents. James Robinson's market knowledge and attention to detail are unmatched. A true real estate expert!"
                    </p>
                    <div class="flex items-center gap-3">
                        <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=80" alt="Client" class="w-12 h-12 rounded-full object-cover">
                        <div>
                            <p class="font-bold text-gray-900">Robert Chen</p>
                            <p class="text-sm text-gray-600">Real Estate Investor</p>
                        </div>
                    </div>
                    <div class="mt-4 pt-4 border-t border-gray-200">
                        <p class="text-xs text-gray-500"><i class="bi bi-check-circle-fill mr-1" style="color: var(--secondary);"></i>Verified Purchase</p>
                    </div>
                </div>

                <!-- Testimonial 5 -->
                <div class="bg-gray-50 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-shadow">
                    <div class="flex items-center gap-1 mb-4">
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-half" style="color: var(--secondary);"></i>
                    </div>
                    <p class="text-gray-700 mb-6 leading-relaxed">
                        "Great experience overall! The virtual tours were incredibly helpful and the team was very responsive. Made buying from out of state much easier."
                    </p>
                    <div class="flex items-center gap-3">
                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?q=80&w=80" alt="Client" class="w-12 h-12 rounded-full object-cover">
                        <div>
                            <p class="font-bold text-gray-900">Amanda Williams</p>
                            <p class="text-sm text-gray-600">Remote Buyer, San Francisco</p>
                        </div>
                    </div>
                    <div class="mt-4 pt-4 border-t border-gray-200">
                        <p class="text-xs text-gray-500"><i class="bi bi-check-circle-fill mr-1" style="color: var(--secondary);"></i>Verified Purchase</p>
                    </div>
                </div>

                <!-- Testimonial 6 -->
                <div class="bg-gray-50 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-shadow">
                    <div class="flex items-center gap-1 mb-4">
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                        <i class="bi bi-star-fill" style="color: var(--secondary);"></i>
                    </div>
                    <p class="text-gray-700 mb-6 leading-relaxed">
                        "Sold our home in record time! The marketing strategy was excellent and we received multiple offers above asking price. Couldn't ask for better results!"
                    </p>
                    <div class="flex items-center gap-3">
                        <img src="https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?q=80&w=80" alt="Client" class="w-12 h-12 rounded-full object-cover">
                        <div>
                            <p class="font-bold text-gray-900">Marcus Johnson</p>
                            <p class="text-sm text-gray-600">Seller, Los Angeles</p>
                        </div>
                    </div>
                    <div class="mt-4 pt-4 border-t border-gray-200">
                        <p class="text-xs text-gray-500"><i class="bi bi-check-circle-fill mr-1" style="color: var(--secondary);"></i>Verified Purchase</p>
                    </div>
                </div>
            </div>

            <!-- Trust Badges -->
            <div class="mt-16 pt-12 border-t border-gray-200">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-8 items-center">
                    <div class="text-center">
                        <div class="text-3xl font-bold text-gray-900 mb-1">580+</div>
                        <div class="text-sm text-gray-600">Happy Clients</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-gray-900 mb-1">4.9/5</div>
                        <div class="text-sm text-gray-600">Average Rating</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-gray-900 mb-1">15+</div>
                        <div class="text-sm text-gray-600">Years Experience</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-gray-900 mb-1">$2B+</div>
                        <div class="text-sm text-gray-600">Properties Sold</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-20 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl md:text-5xl font-bold mb-4 text-gray-900">Get In Touch</h2>
                <p class="text-xl text-gray-600">Ready to find your dream home? Let's start the conversation</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <!-- Contact Form -->
                <div class="bg-white rounded-2xl shadow-xl p-8">
                    <form class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-semibold mb-2 text-gray-700">First Name</label>
                                <input type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 bg-gray-50 text-gray-900" placeholder="John">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold mb-2 text-gray-700">Last Name</label>
                                <input type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 bg-gray-50 text-gray-900" placeholder="Doe">
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2 text-gray-700">Email</label>
                            <input type="email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 bg-gray-50 text-gray-900" placeholder="john@example.com">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2 text-gray-700">Phone</label>
                            <input type="tel" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 bg-gray-50 text-gray-900" placeholder="(555) 123-4567">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2 text-gray-700">I'm interested in</label>
                            <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 bg-gray-50 text-gray-900">
                                <option>Buying a home</option>
                                <option>Selling a home</option>
                                <option>Renting a property</option>
                                <option>Investment opportunities</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2 text-gray-700">Message</label>
                            <textarea rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 bg-gray-50 text-gray-900" placeholder="Tell us about your requirements..."></textarea>
                        </div>
                        <button type="submit" class="w-full py-4 rounded-lg font-bold text-white text-lg transition-all hover:scale-105" style="background: linear-gradient(135deg, var(--accent) 0%, #2c7a7b 100%);">
                            Send Message
                        </button>
                    </form>
                </div>

                <!-- Contact Info -->
                <div class="space-y-8">
                    <div class="bg-white rounded-2xl shadow-xl p-8">
                        <div class="flex items-start gap-4">
                            <div class="w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0" style="background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);">
                                <i class="bi bi-geo-alt-fill text-white text-xl"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-lg mb-2 text-gray-900">Visit Our Office</h4>
                                <p class="text-gray-600">123 Luxury Avenue<br>Los Angeles, CA 90001</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-2xl shadow-xl p-8">
                        <div class="flex items-start gap-4">
                            <div class="w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0" style="background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);">
                                <i class="bi bi-telephone-fill text-white text-xl"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-lg mb-2 text-gray-900">Call Us</h4>
                                <p class="text-gray-600">Main: (555) 123-4567<br>Toll Free: (800) 123-4567</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-2xl shadow-xl p-8">
                        <div class="flex items-start gap-4">
                            <div class="w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0" style="background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);">
                                <i class="bi bi-envelope-fill text-white text-xl"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-lg mb-2 text-gray-900">Email Us</h4>
                                <p class="text-gray-600">info@luxeestate.com<br>support@luxeestate.com</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-2xl shadow-xl p-8">
                        <h4 class="font-bold text-lg mb-4 text-gray-900">Office Hours</h4>
                        <div class="space-y-2 text-gray-600">
                            <p class="flex justify-between"><span>Monday - Friday:</span><span class="font-semibold">9:00 AM - 6:00 PM</span></p>
                            <p class="flex justify-between"><span>Saturday:</span><span class="font-semibold">10:00 AM - 4:00 PM</span></p>
                            <p class="flex justify-between"><span>Sunday:</span><span class="font-semibold">Closed</span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Floating Compare Bar -->
    <div id="compareBar" class="hidden fixed bottom-0 left-0 right-0 bg-white shadow-2xl z-40 border-t-4" style="border-color: var(--secondary);">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-4">
                    <i class="bi bi-check-square text-3xl" style="color: var(--secondary);"></i>
                    <div>
                        <p class="font-bold text-gray-900"><span id="compareCount">0</span> Properties Selected</p>
                        <p class="text-sm text-gray-600">Select up to 3 properties to compare</p>
                    </div>
                </div>
                <div class="flex gap-3">
                    <button id="clearCompare" class="px-6 py-2 rounded-lg font-semibold text-gray-700 border-2 border-gray-300 hover:bg-gray-100 transition-all">
                        Clear All
                    </button>
                    <button id="openCompareModal" class="px-6 py-2 rounded-lg font-semibold text-white transition-all hover:scale-105" style="background: linear-gradient(135deg, var(--accent) 0%, #2c7a7b 100%);">
                        <i class="bi bi-arrow-left-right mr-2"></i>Compare Now
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Favorites Modal -->
    <div id="favoritesModal" class="hidden fixed inset-0 bg-black/80 backdrop-blur-sm z-50 overflow-y-auto">
        <div class="min-h-screen px-4 py-8">
            <div class="max-w-6xl mx-auto bg-white rounded-2xl shadow-2xl relative">
                <!-- Close Button -->
                <button id="closeFavoritesModal" class="absolute top-4 right-4 z-10 w-12 h-12 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform shadow-lg">
                    <i class="bi bi-x-lg text-2xl text-gray-900"></i>
                </button>

                <div class="p-8">
                    <div class="flex items-center gap-3 mb-8">
                        <i class="bi bi-heart-fill text-4xl" style="color: var(--secondary);"></i>
                        <div>
                            <h2 class="text-4xl font-bold text-gray-900">My Favorites</h2>
                            <p class="text-gray-600">Your saved properties</p>
                        </div>
                    </div>

                    <!-- Favorites Grid -->
                    <div id="favoritesGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Favorite property cards will be inserted here -->
                    </div>

                    <!-- Empty State -->
                    <div id="emptyFavorites" class="hidden text-center py-16">
                        <i class="bi bi-heart text-6xl text-gray-300 mb-4"></i>
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">No Favorites Yet</h3>
                        <p class="text-gray-600">Start adding properties to your favorites by clicking the heart icon</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Comparison Modal -->
    <div id="compareModal" class="hidden fixed inset-0 bg-black/80 backdrop-blur-sm z-50 overflow-y-auto">
        <div class="min-h-screen px-4 py-8">
            <div class="max-w-7xl mx-auto bg-white rounded-2xl shadow-2xl relative">
                <!-- Close Button -->
                <button id="closeCompareModal" class="absolute top-4 right-4 z-10 w-12 h-12 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform shadow-lg">
                    <i class="bi bi-x-lg text-2xl text-gray-900"></i>
                </button>

                <div class="p-8">
                    <h2 class="text-4xl font-bold mb-2 text-gray-900">Property Comparison</h2>
                    <p class="text-gray-600 mb-8">Compare features and details side-by-side</p>

                    <!-- Comparison Table -->
                    <div id="comparisonContent" class="overflow-x-auto">
                        <table class="w-full">
                            <thead>
                                <tr>
                                    <th class="text-left p-4 bg-gray-50 font-bold text-gray-900 sticky left-0 z-10">Feature</th>
                                    <!-- Property columns will be inserted here -->
                                </tr>
                            </thead>
                            <tbody id="comparisonTableBody">
                                <!-- Comparison rows will be inserted here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Property Detail Modal -->
    <div id="propertyModal" class="hidden fixed inset-0 bg-black/80 backdrop-blur-sm z-50 overflow-y-auto">
        <div class="min-h-screen px-4 py-8">
            <div class="max-w-7xl mx-auto bg-white rounded-2xl shadow-2xl relative">
                <!-- Close Button -->
                <button id="closeModal" class="absolute top-4 right-4 z-10 w-12 h-12 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform shadow-lg">
                    <i class="bi bi-x-lg text-2xl text-gray-900"></i>
                </button>

                <!-- Image Gallery -->
                <div class="relative h-96 rounded-t-2xl overflow-hidden">
                    <img id="modalMainImage" src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=2000" alt="Property" class="w-full h-full object-cover">
                    <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-6">
                        <div class="flex items-center gap-4">
                            <span class="text-4xl font-bold text-white" id="modalPrice">$1,250,000</span>
                            <button class="w-12 h-12 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform">
                                <i class="bi bi-heart text-gray-700"></i>
                            </button>
                            <button class="w-12 h-12 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform">
                                <i class="bi bi-share text-gray-700"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Thumbnail Gallery -->
                <div class="grid grid-cols-4 gap-2 p-4 bg-gray-100">
                    <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=400" class="w-full h-24 object-cover rounded-lg cursor-pointer hover:opacity-75 transition-opacity" onclick="changeModalImage(this.src)">
                    <img src="https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?q=80&w=400" class="w-full h-24 object-cover rounded-lg cursor-pointer hover:opacity-75 transition-opacity" onclick="changeModalImage(this.src)">
                    <img src="https://images.unsplash.com/photo-1600566752355-35792bedcfea?q=80&w=400" class="w-full h-24 object-cover rounded-lg cursor-pointer hover:opacity-75 transition-opacity" onclick="changeModalImage(this.src)">
                    <img src="https://images.unsplash.com/photo-1600573472591-ee6b68d14c68?q=80&w=400" class="w-full h-24 object-cover rounded-lg cursor-pointer hover:opacity-75 transition-opacity" onclick="changeModalImage(this.src)">
                </div>

                <div class="p-8">
                    <!-- Property Title and Location -->
                    <div class="mb-6">
                        <h2 id="modalTitle" class="text-4xl font-bold mb-3 text-gray-900">Modern Luxury Villa</h2>
                        <p class="text-xl text-gray-600 flex items-center">
                            <i class="bi bi-geo-alt mr-2"></i><span id="modalLocation">Beverly Hills, Los Angeles</span>
                        </p>
                    </div>

                    <!-- Key Stats -->
                    <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-8">
                        <div class="bg-gray-50 rounded-xl p-4 text-center">
                            <div class="text-3xl font-bold text-gray-900 mb-1" id="modalBeds">4</div>
                            <div class="text-sm text-gray-600">Bedrooms</div>
                        </div>
                        <div class="bg-gray-50 rounded-xl p-4 text-center">
                            <div class="text-3xl font-bold text-gray-900 mb-1" id="modalBaths">3</div>
                            <div class="text-sm text-gray-600">Bathrooms</div>
                        </div>
                        <div class="bg-gray-50 rounded-xl p-4 text-center">
                            <div class="text-3xl font-bold text-gray-900 mb-1" id="modalSqft">3,200</div>
                            <div class="text-sm text-gray-600">Square Feet</div>
                        </div>
                        <div class="bg-gray-50 rounded-xl p-4 text-center">
                            <div class="text-3xl font-bold text-gray-900 mb-1" id="modalGarage">2</div>
                            <div class="text-sm text-gray-600">Garage Spaces</div>
                        </div>
                        <div class="bg-gray-50 rounded-xl p-4 text-center">
                            <div class="text-3xl font-bold text-gray-900 mb-1" id="modalYear">2020</div>
                            <div class="text-sm text-gray-600">Year Built</div>
                        </div>
                    </div>

                    <!-- Tabs -->
                    <div class="border-b border-gray-200 mb-8">
                        <div class="flex gap-8">
                            <button class="tab-button active pb-4 border-b-2 font-semibold transition-colors" data-tab="overview" style="border-color: var(--primary); color: var(--primary);">Overview</button>
                            <button class="tab-button pb-4 border-b-2 border-transparent text-gray-600 hover:text-gray-900 font-semibold transition-colors" data-tab="features">Features</button>
                            <button class="tab-button pb-4 border-b-2 border-transparent text-gray-600 hover:text-gray-900 font-semibold transition-colors" data-tab="virtual-tour">Virtual Tour</button>
                            <button class="tab-button pb-4 border-b-2 border-transparent text-gray-600 hover:text-gray-900 font-semibold transition-colors" data-tab="location">Location</button>
                        </div>
                    </div>

                    <!-- Tab Content -->
                    <div class="tab-content" id="overview-content">
                        <h3 class="text-2xl font-bold mb-4 text-gray-900">Property Description</h3>
                        <div id="modalDescription">
                            <p class="text-gray-600 leading-relaxed mb-6">
                                Welcome to this stunning modern luxury villa located in the heart of Beverly Hills. This exceptional property combines contemporary design with timeless elegance, featuring an open floor plan that seamlessly connects indoor and outdoor living spaces.
                            </p>
                            <p class="text-gray-600 leading-relaxed mb-6">
                                The gourmet kitchen is a chef's dream, equipped with top-of-the-line stainless steel appliances, custom cabinetry, and a large center island. The master suite offers a private retreat with a spa-like bathroom featuring a soaking tub, walk-in shower, and dual vanities.
                            </p>
                            <p class="text-gray-600 leading-relaxed mb-6">
                                Step outside to your private oasis featuring a resort-style pool, outdoor kitchen, and expansive patio perfect for entertaining. The meticulously landscaped yard provides both beauty and privacy.
                            </p>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
                            <div>
                                <h4 class="font-bold text-lg mb-3 text-gray-900">Property Details</h4>
                                <ul class="space-y-2 text-gray-600">
                                    <li class="flex justify-between"><span>Property Type:</span><span class="font-semibold">Single Family Home</span></li>
                                    <li class="flex justify-between"><span>Lot Size:</span><span class="font-semibold">8,500 sq ft</span></li>
                                    <li class="flex justify-between"><span>HOA Fees:</span><span class="font-semibold">$250/month</span></li>
                                    <li class="flex justify-between"><span>Property Tax:</span><span class="font-semibold">$15,000/year</span></li>
                                    <li class="flex justify-between"><span>Days on Market:</span><span class="font-semibold">12 days</span></li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-bold text-lg mb-3 text-gray-900">Construction Details</h4>
                                <ul class="space-y-2 text-gray-600">
                                    <li class="flex justify-between"><span>Roof:</span><span class="font-semibold">Tile</span></li>
                                    <li class="flex justify-between"><span>Flooring:</span><span class="font-semibold">Hardwood, Tile</span></li>
                                    <li class="flex justify-between"><span>Heating:</span><span class="font-semibold">Central, Gas</span></li>
                                    <li class="flex justify-between"><span>Cooling:</span><span class="font-semibold">Central A/C</span></li>
                                    <li class="flex justify-between"><span>Parking:</span><span class="font-semibold">2-Car Garage</span></li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="tab-content hidden" id="features-content">
                        <h3 class="text-2xl font-bold mb-6 text-gray-900">Property Features & Amenities</h3>

                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div>
                                <h4 class="font-bold mb-4 flex items-center text-gray-900">
                                    <i class="bi bi-house-door text-2xl mr-2" style="color: var(--secondary);"></i>
                                    Interior Features
                                </h4>
                                <ul class="space-y-2 text-gray-600">
                                    <li><i class="bi bi-check2 mr-2"></i>High Ceilings</li>
                                    <li><i class="bi bi-check2 mr-2"></i>Hardwood Floors</li>
                                    <li><i class="bi bi-check2 mr-2"></i>Walk-in Closets</li>
                                    <li><i class="bi bi-check2 mr-2"></i>Smart Home System</li>
                                    <li><i class="bi bi-check2 mr-2"></i>Fireplace</li>
                                    <li><i class="bi bi-check2 mr-2"></i>Custom Lighting</li>
                                </ul>
                            </div>

                            <div>
                                <h4 class="font-bold mb-4 flex items-center text-gray-900">
                                    <i class="bi bi-tree text-2xl mr-2" style="color: var(--secondary);"></i>
                                    Exterior Features
                                </h4>
                                <ul class="space-y-2 text-gray-600">
                                    <li><i class="bi bi-check2 mr-2"></i>Swimming Pool</li>
                                    <li><i class="bi bi-check2 mr-2"></i>Outdoor Kitchen</li>
                                    <li><i class="bi bi-check2 mr-2"></i>Landscaped Garden</li>
                                    <li><i class="bi bi-check2 mr-2"></i>Patio/Deck</li>
                                    <li><i class="bi bi-check2 mr-2"></i>Sprinkler System</li>
                                    <li><i class="bi bi-check2 mr-2"></i>Security System</li>
                                </ul>
                            </div>

                            <div>
                                <h4 class="font-bold mb-4 flex items-center text-gray-900">
                                    <i class="bi bi-lightning text-2xl mr-2" style="color: var(--secondary);"></i>
                                    Appliances & Systems
                                </h4>
                                <ul class="space-y-2 text-gray-600">
                                    <li><i class="bi bi-check2 mr-2"></i>Stainless Steel Appliances</li>
                                    <li><i class="bi bi-check2 mr-2"></i>Wine Cooler</li>
                                    <li><i class="bi bi-check2 mr-2"></i>Central A/C & Heating</li>
                                    <li><i class="bi bi-check2 mr-2"></i>Tankless Water Heater</li>
                                    <li><i class="bi bi-check2 mr-2"></i>Solar Panels</li>
                                    <li><i class="bi bi-check2 mr-2"></i>EV Charging Station</li>
                                </ul>
                            </div>
                        </div>

                        <div class="mt-8 bg-blue-50 rounded-xl p-6">
                            <h4 class="font-bold mb-4 text-gray-900">Community Amenities</h4>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-gray-600">
                                <div class="flex items-center"><i class="bi bi-check-circle-fill mr-2" style="color: var(--accent);"></i>Clubhouse</div>
                                <div class="flex items-center"><i class="bi bi-check-circle-fill mr-2" style="color: var(--accent);"></i>Fitness Center</div>
                                <div class="flex items-center"><i class="bi bi-check-circle-fill mr-2" style="color: var(--accent);"></i>Tennis Courts</div>
                                <div class="flex items-center"><i class="bi bi-check-circle-fill mr-2" style="color: var(--accent);"></i>Walking Trails</div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-content hidden" id="virtual-tour-content">
                        <h3 class="text-2xl font-bold mb-6 text-gray-900">Virtual Tour & Media</h3>

                        <!-- 360° Virtual Tour Viewer -->
                        <div class="relative bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl overflow-hidden mb-6 aspect-video">
                            <div id="tour-viewer" class="w-full h-full relative">
                                <!-- Simulated 360° panorama image -->
                                <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=2000" alt="360 View" class="w-full h-full object-cover" id="panoramaImage">

                                <!-- 360° Controls Overlay -->
                                <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent flex items-center justify-center">
                                    <button id="start360Tour" class="group">
                                        <div class="bg-white/90 backdrop-blur-sm rounded-full p-8 hover:bg-white transition-all hover:scale-110">
                                            <i class="bi bi-play-circle-fill text-6xl" style="color: var(--accent);"></i>
                                        </div>
                                        <p class="text-white text-xl font-bold mt-4 group-hover:scale-105 transition-transform">Start 360° Virtual Tour</p>
                                    </button>
                                </div>

                                <!-- Room Navigation Hotspots (appear after starting tour) -->
                                <div id="tour-hotspots" class="hidden">
                                    <button class="absolute top-1/3 left-1/4 w-12 h-12 bg-white/80 backdrop-blur-sm rounded-full flex items-center justify-center hover:scale-125 transition-all shadow-lg" title="Living Room">
                                        <i class="bi bi-arrow-right-circle-fill text-2xl" style="color: var(--accent);"></i>
                                    </button>
                                    <button class="absolute top-1/2 right-1/3 w-12 h-12 bg-white/80 backdrop-blur-sm rounded-full flex items-center justify-center hover:scale-125 transition-all shadow-lg" title="Kitchen">
                                        <i class="bi bi-arrow-right-circle-fill text-2xl" style="color: var(--accent);"></i>
                                    </button>
                                    <button class="absolute bottom-1/3 left-1/2 w-12 h-12 bg-white/80 backdrop-blur-sm rounded-full flex items-center justify-center hover:scale-125 transition-all shadow-lg" title="Master Bedroom">
                                        <i class="bi bi-arrow-right-circle-fill text-2xl" style="color: var(--accent);"></i>
                                    </button>
                                </div>

                                <!-- Tour Info Bar -->
                                <div class="absolute top-4 left-4 bg-white/90 backdrop-blur-sm rounded-lg px-4 py-2 shadow-lg">
                                    <p class="text-sm font-semibold text-gray-900"><i class="bi bi-geo-alt-fill mr-2" style="color: var(--secondary);"></i>Living Room</p>
                                </div>

                                <!-- Navigation Instructions -->
                                <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-white/90 backdrop-blur-sm rounded-full px-6 py-2 shadow-lg hidden" id="tour-instructions">
                                    <p class="text-sm text-gray-700"><i class="bi bi-mouse mr-2"></i>Drag to look around • Click hotspots to move</p>
                                </div>
                            </div>
                        </div>

                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                            <button class="bg-gray-100 rounded-lg p-4 hover:shadow-lg transition-shadow text-center">
                                <i class="bi bi-camera-video text-3xl mb-2" style="color: var(--secondary);"></i>
                                <p class="text-sm font-semibold text-gray-900">Video Tour</p>
                            </button>
                            <button class="bg-gray-100 rounded-lg p-4 hover:shadow-lg transition-shadow text-center">
                                <i class="bi bi-map text-3xl mb-2" style="color: var(--secondary);"></i>
                                <p class="text-sm font-semibold text-gray-900">Floor Plan</p>
                            </button>
                            <button class="bg-gray-100 rounded-lg p-4 hover:shadow-lg transition-shadow text-center">
                                <i class="bi bi-images text-3xl mb-2" style="color: var(--secondary);"></i>
                                <p class="text-sm font-semibold text-gray-900">Photo Gallery</p>
                            </button>
                            <button class="bg-gray-100 rounded-lg p-4 hover:shadow-lg transition-shadow text-center">
                                <i class="bi bi-box-arrow-up-right text-3xl mb-2" style="color: var(--secondary);"></i>
                                <p class="text-sm font-semibold text-gray-900">Street View</p>
                            </button>
                        </div>

                        <div class="bg-gray-50 rounded-xl p-6">
                            <h4 class="font-bold mb-4 text-gray-900">Room by Room Tour</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="flex items-start gap-3">
                                    <div class="w-20 h-20 rounded-lg bg-gray-200 flex-shrink-0"></div>
                                    <div>
                                        <p class="font-semibold text-gray-900">Living Room</p>
                                        <p class="text-sm text-gray-600">20' x 18' - High ceilings, fireplace</p>
                                    </div>
                                </div>
                                <div class="flex items-start gap-3">
                                    <div class="w-20 h-20 rounded-lg bg-gray-200 flex-shrink-0"></div>
                                    <div>
                                        <p class="font-semibold text-gray-900">Kitchen</p>
                                        <p class="text-sm text-gray-600">16' x 14' - Gourmet kitchen with island</p>
                                    </div>
                                </div>
                                <div class="flex items-start gap-3">
                                    <div class="w-20 h-20 rounded-lg bg-gray-200 flex-shrink-0"></div>
                                    <div>
                                        <p class="font-semibold text-gray-900">Master Bedroom</p>
                                        <p class="text-sm text-gray-600">18' x 16' - En-suite bathroom, balcony</p>
                                    </div>
                                </div>
                                <div class="flex items-start gap-3">
                                    <div class="w-20 h-20 rounded-lg bg-gray-200 flex-shrink-0"></div>
                                    <div>
                                        <p class="font-semibold text-gray-900">Backyard</p>
                                        <p class="text-sm text-gray-600">Pool, outdoor kitchen, entertainment area</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-content hidden" id="location-content">
                        <h3 class="text-2xl font-bold mb-6 text-gray-900">Location & Neighborhood</h3>

                        <!-- Map Placeholder -->
                        <div class="relative bg-gray-200 rounded-xl h-96 mb-6 overflow-hidden">
                            <!-- This would be replaced with actual map implementation (Google Maps/Mapbox) -->
                            <iframe
                                src="https://www.openstreetmap.org/export/embed.html?bbox=-118.4180%2C34.0686%2C-118.3957%2C34.0866&layer=mapnik&marker=34.0776%2C-118.4068"
                                class="w-full h-full border-0"
                                style="filter: grayscale(30%);">
                            </iframe>
                            <div class="absolute top-4 left-4 bg-white rounded-lg shadow-lg px-4 py-3">
                                <p class="font-semibold text-gray-900 flex items-center">
                                    <i class="bi bi-geo-alt-fill mr-2" style="color: var(--secondary);"></i>
                                    Beverly Hills, Los Angeles
                                </p>
                                <p class="text-sm text-gray-600">CA 90210</p>
                            </div>
                            <div class="absolute bottom-4 right-4 flex gap-2">
                                <button class="bg-white rounded-lg shadow-lg px-4 py-2 hover:scale-105 transition-transform">
                                    <i class="bi bi-arrows-fullscreen text-gray-900"></i>
                                </button>
                                <button class="bg-white rounded-lg shadow-lg px-4 py-2 hover:scale-105 transition-transform">
                                    <i class="bi bi-geo text-gray-900"></i>
                                </button>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div>
                                <h4 class="font-bold mb-4 text-gray-900">Nearby Places</h4>
                                <ul class="space-y-3 text-gray-600">
                                    <li class="flex justify-between items-center">
                                        <span><i class="bi bi-mortarboard mr-2"></i>Beverly Hills High School</span>
                                        <span class="text-sm font-semibold">0.8 miles</span>
                                    </li>
                                    <li class="flex justify-between items-center">
                                        <span><i class="bi bi-cart3 mr-2"></i>Rodeo Drive Shopping</span>
                                        <span class="text-sm font-semibold">1.2 miles</span>
                                    </li>
                                    <li class="flex justify-between items-center">
                                        <span><i class="bi bi-hospital mr-2"></i>Cedars-Sinai Medical Center</span>
                                        <span class="text-sm font-semibold">2.5 miles</span>
                                    </li>
                                    <li class="flex justify-between items-center">
                                        <span><i class="bi bi-tree mr-2"></i>Beverly Gardens Park</span>
                                        <span class="text-sm font-semibold">0.6 miles</span>
                                    </li>
                                </ul>
                            </div>

                            <div>
                                <h4 class="font-bold mb-4 text-gray-900">Walk Score</h4>
                                <div class="space-y-4">
                                    <div>
                                        <div class="flex justify-between mb-2">
                                            <span class="text-gray-600">Walk Score</span>
                                            <span class="font-semibold text-gray-900">78 - Very Walkable</span>
                                        </div>
                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="h-2 rounded-full" style="width: 78%; background-color: var(--accent);"></div>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="flex justify-between mb-2">
                                            <span class="text-gray-600">Transit Score</span>
                                            <span class="font-semibold text-gray-900">65 - Excellent Transit</span>
                                        </div>
                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="h-2 rounded-full" style="width: 65%; background-color: var(--accent);"></div>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="flex justify-between mb-2">
                                            <span class="text-gray-600">Bike Score</span>
                                            <span class="font-semibold text-gray-900">72 - Very Bikeable</span>
                                        </div>
                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="h-2 rounded-full" style="width: 72%; background-color: var(--accent);"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Agent Section -->
                    <div class="mt-8 pt-8 border-t border-gray-200">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="flex items-center gap-4">
                                <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?q=80&w=100" alt="Agent" class="w-20 h-20 rounded-full object-cover">
                                <div>
                                    <p class="font-bold text-lg text-gray-900">Michael Chen</p>
                                    <p class="text-sm text-gray-600">Senior Real Estate Advisor</p>
                                    <div class="flex items-center gap-1 mt-1">
                                        <i class="bi bi-star-fill text-sm" style="color: var(--secondary);"></i>
                                        <span class="text-sm text-gray-600">4.9 (127 reviews)</span>
                                    </div>
                                </div>
                            </div>
                            <div class="flex flex-col gap-3">
                                <div class="flex gap-3">
                                    <button class="flex-1 py-3 rounded-lg font-semibold text-white transition-all hover:scale-105" style="background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);">
                                        <i class="bi bi-telephone mr-2"></i>Call Agent
                                    </button>
                                    <button class="flex-1 py-3 rounded-lg font-semibold transition-all hover:scale-105 border-2" style="border-color: var(--primary); color: var(--primary);">
                                        <i class="bi bi-envelope mr-2"></i>Email
                                    </button>
                                </div>
                                <button id="scheduleTourBtn" class="w-full py-3 rounded-lg font-semibold text-white transition-all hover:scale-105" style="background: linear-gradient(135deg, var(--secondary) 0%, #d97706 100%);">
                                    <i class="bi bi-calendar-check mr-2"></i>Schedule a Tour
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Schedule Tour Modal -->
    <div id="scheduleTourModal" class="hidden fixed inset-0 bg-black/80 backdrop-blur-sm z-50 overflow-y-auto">
        <div class="min-h-screen px-4 flex items-center justify-center">
            <div class="bg-white rounded-2xl max-w-2xl w-full shadow-2xl relative">
                <button id="closeScheduleTour" class="absolute top-4 right-4 w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors z-10">
                    <i class="bi bi-x text-2xl text-gray-700"></i>
                </button>

                <div class="p-8">
                    <div class="text-center mb-8">
                        <h3 class="text-3xl font-bold mb-2 text-gray-900">Schedule Your Tour</h3>
                        <p class="text-gray-600">Choose a date and time that works for you</p>
                    </div>

                    <!-- Calendar and Time Selection -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <!-- Calendar -->
                        <div>
                            <label class="block text-sm font-semibold text-gray-900 mb-3">Select Date</label>
                            <div class="bg-gray-50 rounded-xl p-4">
                                <!-- Calendar Header -->
                                <div class="flex items-center justify-between mb-4">
                                    <button id="prevMonth" class="w-8 h-8 flex items-center justify-center hover:bg-gray-200 rounded-full transition-colors">
                                        <i class="bi bi-chevron-left text-gray-700"></i>
                                    </button>
                                    <h4 id="currentMonth" class="font-bold text-gray-900"></h4>
                                    <button id="nextMonth" class="w-8 h-8 flex items-center justify-center hover:bg-gray-200 rounded-full transition-colors">
                                        <i class="bi bi-chevron-right text-gray-700"></i>
                                    </button>
                                </div>

                                <!-- Calendar Grid -->
                                <div class="grid grid-cols-7 gap-1 mb-2">
                                    <div class="text-center text-xs font-semibold text-gray-600 py-2">Sun</div>
                                    <div class="text-center text-xs font-semibold text-gray-600 py-2">Mon</div>
                                    <div class="text-center text-xs font-semibold text-gray-600 py-2">Tue</div>
                                    <div class="text-center text-xs font-semibold text-gray-600 py-2">Wed</div>
                                    <div class="text-center text-xs font-semibold text-gray-600 py-2">Thu</div>
                                    <div class="text-center text-xs font-semibold text-gray-600 py-2">Fri</div>
                                    <div class="text-center text-xs font-semibold text-gray-600 py-2">Sat</div>
                                </div>
                                <div id="calendarDays" class="grid grid-cols-7 gap-1"></div>
                            </div>
                        </div>

                        <!-- Time Slots -->
                        <div>
                            <label class="block text-sm font-semibold text-gray-900 mb-3">Select Time</label>
                            <div class="bg-gray-50 rounded-xl p-4 max-h-80 overflow-y-auto">
                                <div id="timeSlots" class="space-y-2">
                                    <!-- Time slots will be generated by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tour Type Selection -->
                    <div class="mb-6">
                        <label class="block text-sm font-semibold text-gray-900 mb-3">Tour Type</label>
                        <div class="grid grid-cols-2 gap-3">
                            <label class="relative cursor-pointer">
                                <input type="radio" name="tourType" value="in-person" class="peer sr-only" checked>
                                <div class="border-2 border-gray-300 rounded-lg p-4 text-center transition-all peer-checked:border-blue-900 peer-checked:bg-blue-50">
                                    <i class="bi bi-house-door text-2xl mb-2" style="color: var(--primary);"></i>
                                    <p class="font-semibold text-gray-900">In-Person</p>
                                    <p class="text-xs text-gray-600 mt-1">Visit the property</p>
                                </div>
                            </label>
                            <label class="relative cursor-pointer">
                                <input type="radio" name="tourType" value="virtual" class="peer sr-only">
                                <div class="border-2 border-gray-300 rounded-lg p-4 text-center transition-all peer-checked:border-blue-900 peer-checked:bg-blue-50">
                                    <i class="bi bi-camera-video text-2xl mb-2" style="color: var(--primary);"></i>
                                    <p class="font-semibold text-gray-900">Virtual</p>
                                    <p class="text-xs text-gray-600 mt-1">Video call tour</p>
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- Contact Information -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-900 mb-2">Full Name</label>
                            <input type="text" id="tourName" placeholder="John Doe" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 bg-gray-50 text-gray-900">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-900 mb-2">Email</label>
                            <input type="email" id="tourEmail" placeholder="john@example.com" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 bg-gray-50 text-gray-900">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-900 mb-2">Phone</label>
                            <input type="tel" id="tourPhone" placeholder="(555) 123-4567" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 bg-gray-50 text-gray-900">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-900 mb-2">Guests</label>
                            <select id="tourGuests" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 bg-gray-50 text-gray-900">
                                <option value="1">Just me</option>
                                <option value="2">2 guests</option>
                                <option value="3">3 guests</option>
                                <option value="4">4+ guests</option>
                            </select>
                        </div>
                    </div>

                    <!-- Special Requests -->
                    <div class="mb-6">
                        <label class="block text-sm font-semibold text-gray-900 mb-2">Special Requests (Optional)</label>
                        <textarea id="tourNotes" rows="3" placeholder="Any specific areas you'd like to see or questions you have..." class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 bg-gray-50 text-gray-900 resize-none"></textarea>
                    </div>

                    <!-- Selected Tour Summary -->
                    <div id="tourSummary" class="hidden bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                        <h4 class="font-semibold text-gray-900 mb-2">Tour Summary</h4>
                        <div class="space-y-1 text-sm text-gray-700">
                            <p><i class="bi bi-calendar3 mr-2" style="color: var(--primary);"></i><span id="summaryDate">No date selected</span></p>
                            <p><i class="bi bi-clock mr-2" style="color: var(--primary);"></i><span id="summaryTime">No time selected</span></p>
                            <p><i class="bi bi-house mr-2" style="color: var(--primary);"></i><span id="summaryType">In-Person Tour</span></p>
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <button id="confirmTourBtn" class="w-full py-4 rounded-lg font-semibold text-white text-lg transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed" style="background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);" disabled>
                        <i class="bi bi-check-circle mr-2"></i>Confirm Tour
                    </button>
                </div>
            </div>
        </div>
    </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <i class="bi bi-buildings text-3xl" style="color: var(--secondary);"></i>
                        <span class="text-2xl font-bold" style="font-family: 'Playfair Display', serif;">LuxeEstate</span>
                    </div>
                    <p class="text-gray-400 mb-4">Your trusted partner in finding the perfect luxury property.</p>
                    <div class="flex gap-3">
                        <a href="#" class="w-10 h-10 rounded-full flex items-center justify-center hover:scale-110 transition-transform" style="background-color: var(--secondary);">
                            <i class="bi bi-facebook"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full flex items-center justify-center hover:scale-110 transition-transform" style="background-color: var(--secondary);">
                            <i class="bi bi-instagram"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full flex items-center justify-center hover:scale-110 transition-transform" style="background-color: var(--secondary);">
                            <i class="bi bi-linkedin"></i>
                        </a>
                    </div>
                </div>

                <div>
                    <h4 class="font-bold mb-4 text-lg">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="#home" class="text-gray-400 hover:text-white transition-colors">Home</a></li>
                        <li><a href="#properties" class="text-gray-400 hover:text-white transition-colors">Properties</a></li>
                        <li><a href="#agents" class="text-gray-400 hover:text-white transition-colors">Our Agents</a></li>
                        <li><a href="#about" class="text-gray-400 hover:text-white transition-colors">About Us</a></li>
                        <li><a href="#contact" class="text-gray-400 hover:text-white transition-colors">Contact</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-bold mb-4 text-lg">Resources</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Buyer's Guide</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Seller's Guide</a></li>
                        <li><a href="#about" class="text-gray-400 hover:text-white transition-colors">Mortgage Calculator</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Market Insights</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Blog</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-bold mb-4 text-lg">Newsletter</h4>
                    <p class="text-gray-400 mb-4">Subscribe to get the latest property listings and market updates.</p>
                    <form class="flex gap-2">
                        <input type="email" placeholder="Your email" class="flex-1 px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-900">
                        <button type="submit" class="px-4 py-2 rounded-lg font-semibold text-white" style="background-color: var(--secondary);">
                            <i class="bi bi-send"></i>
                        </button>
                    </form>
                </div>
            </div>

            <div class="border-t border-gray-800 pt-8 text-center text-gray-400">
                <p>&copy; 2024 LuxeEstate. All rights reserved. | <a href="#" class="hover:text-white transition-colors">Privacy Policy</a> | <a href="#" class="hover:text-white transition-colors">Terms of Service</a></p>
            </div>
        </div>
    </footer>
<script>
    // Wrap all code in DOMContentLoaded
    document.addEventListener('DOMContentLoaded', function() {
        console.log('DOM loaded, initializing...');

        // Mortgage Calculator
        const homePrice = document.getElementById('homePrice');
        const downPayment = document.getElementById('downPayment');
        const downPaymentValue = document.getElementById('downPaymentValue');
        const loanTerm = document.getElementById('loanTerm');
        const interestRate = document.getElementById('interestRate');
        const monthlyPayment = document.getElementById('monthlyPayment');
        const principalInterest = document.getElementById('principalInterest');
        const taxInsurance = document.getElementById('taxInsurance');

        function calculateMortgage() {
            const price = parseFloat(homePrice.value);
            const downPercent = parseFloat(downPayment.value);
            const downAmount = (price * downPercent) / 100;
            const loanAmount = price - downAmount;
            const years = parseInt(loanTerm.value);
            const rate = parseFloat(interestRate.value) / 100 / 12;
            const numPayments = years * 12;

            // Update down payment display
            downPaymentValue.textContent = `${downPercent}% ($${downAmount.toLocaleString(undefined, {maximumFractionDigits: 0})})`;

            // Calculate monthly payment (principal + interest)
            const monthlyPI = (loanAmount * rate * Math.pow(1 + rate, numPayments)) / (Math.pow(1 + rate, numPayments) - 1);

            // Estimate property tax and insurance (roughly 1.2% annually)
            const monthlyTaxIns = (price * 0.012) / 12;

            // Total monthly payment
            const total = monthlyPI + monthlyTaxIns;

            // Update display
            monthlyPayment.textContent = '$' + Math.round(total).toLocaleString();
            principalInterest.textContent = '$' + Math.round(monthlyPI).toLocaleString();
            taxInsurance.textContent = '$' + Math.round(monthlyTaxIns).toLocaleString();
        }

        // Add event listeners
        homePrice.addEventListener('input', calculateMortgage);
        downPayment.addEventListener('input', calculateMortgage);
        loanTerm.addEventListener('change', calculateMortgage);
        interestRate.addEventListener('input', calculateMortgage);

        // Initial calculation
        calculateMortgage();

        // Property Modal
        const propertyModal = document.getElementById('propertyModal');
        const closeModal = document.getElementById('closeModal');
        const viewDetailsButtons = document.querySelectorAll('.view-details-btn');

        // Property data
        const propertyData = {
            '1': {
                name: 'Modern Luxury Villa',
                location: 'Beverly Hills, Los Angeles',
                price: '$1,250,000',
                beds: 4,
                baths: 3,
                sqft: '3,200',
                garage: 2,
                year: 2020,
                description: `<p class="text-gray-600 leading-relaxed mb-6">Welcome to this stunning modern luxury villa located in the heart of Beverly Hills. This exceptional property combines contemporary design with timeless elegance, featuring an open floor plan that seamlessly connects indoor and outdoor living spaces.</p><p class="text-gray-600 leading-relaxed mb-6">The gourmet kitchen is a chef's dream, equipped with top-of-the-line stainless steel appliances, custom cabinetry, and a large center island. The master suite offers a private retreat with a spa-like bathroom featuring a soaking tub, walk-in shower, and dual vanities.</p><p class="text-gray-600 leading-relaxed mb-6">Step outside to your private oasis featuring a resort-style pool, outdoor kitchen, and expansive patio perfect for entertaining. The meticulously landscaped yard provides both beauty and privacy.</p>`,
                image: 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=2000',
                images: [
                    'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=400',
                    'https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?q=80&w=400',
                    'https://images.unsplash.com/photo-1600566752355-35792bedcfea?q=80&w=400',
                    'https://images.unsplash.com/photo-1600573472591-ee6b68d14c68?q=80&w=400'
                ]
            },
            '2': {
                name: 'Downtown Penthouse',
                location: 'Manhattan, New York',
                price: '$2,100,000',
                beds: 3,
                baths: 2.5,
                sqft: '2,800',
                garage: 1,
                year: 2022,
                description: `<p class="text-gray-600 leading-relaxed mb-6">Experience luxury living at its finest in this stunning penthouse located in the heart of Manhattan. Floor-to-ceiling windows offer breathtaking city views, while the modern open-concept design creates an elegant flow throughout the space.</p><p class="text-gray-600 leading-relaxed mb-6">This sophisticated residence features high-end finishes, a gourmet kitchen with premium appliances, and a spacious master suite with panoramic views. The building offers world-class amenities including a fitness center, rooftop terrace, and 24/7 concierge service.</p><p class="text-gray-600 leading-relaxed mb-6">Perfect for those seeking the ultimate urban lifestyle with unparalleled convenience and luxury.</p>`,
                image: 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=2000',
                images: [
                    'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=400',
                    'https://images.unsplash.com/photo-1600607687644-aac4c3eac7f4?q=80&w=400',
                    'https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?q=80&w=400',
                    'https://images.unsplash.com/photo-1600607688969-a5bfcd646154?q=80&w=400'
                ]
            },
            '3': {
                name: 'Beachfront Estate',
                location: 'Malibu, California',
                price: '$3,500,000',
                beds: 5,
                baths: 4,
                sqft: '4,500',
                garage: 3,
                year: 2019,
                description: `<p class="text-gray-600 leading-relaxed mb-6">Wake up to the sound of waves in this magnificent beachfront estate in Malibu. This architectural masterpiece offers direct beach access and stunning ocean views from every room, creating an unparalleled coastal living experience.</p><p class="text-gray-600 leading-relaxed mb-6">The property features expansive living spaces, a chef's kitchen, luxurious master suite, and multiple guest bedrooms. The outdoor area includes a heated infinity pool, spa, outdoor kitchen, and multiple terraces perfect for entertaining while enjoying the California sunshine.</p><p class="text-gray-600 leading-relaxed mb-6">This is more than a home—it's a private beachfront sanctuary.</p>`,
                image: 'https://images.unsplash.com/photo-1613490493576-7fde63acd811?q=80&w=2000',
                images: [
                    'https://images.unsplash.com/photo-1613490493576-7fde63acd811?q=80&w=400',
                    'https://images.unsplash.com/photo-1613490493576-7fde63acd811?q=80&w=400',
                    'https://images.unsplash.com/photo-1613490493576-7fde63acd811?q=80&w=400',
                    'https://images.unsplash.com/photo-1613490493576-7fde63acd811?q=80&w=400'
                ]
            },
            '4': {
                name: 'Urban Condo',
                location: 'Los Angeles, California',
                price: '$850,000',
                beds: 3,
                baths: 2,
                sqft: '1,900',
                garage: 2,
                year: 2021,
                description: `<p class="text-gray-600 leading-relaxed mb-6">Modern urban living at its best in this beautifully designed condo in the heart of Los Angeles. This contemporary residence features an open floor plan with stylish finishes and abundant natural light throughout.</p><p class="text-gray-600 leading-relaxed mb-6">The sleek kitchen boasts stainless steel appliances and quartz countertops, while the spacious bedrooms offer comfortable retreats. Building amenities include a fitness center, rooftop deck, and secure parking.</p><p class="text-gray-600 leading-relaxed mb-6">Perfectly located near shopping, dining, and entertainment, this condo offers the ideal city lifestyle.</p>`,
                image: 'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?q=80&w=2000',
                images: [
                    'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?q=80&w=400',
                    'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?q=80&w=400',
                    'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?q=80&w=400',
                    'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?q=80&w=400'
                ]
            },
            '5': {
                name: 'Victorian House',
                location: 'San Francisco, California',
                price: '$1,650,000',
                beds: 4,
                baths: 3.5,
                sqft: '2,900',
                garage: 1,
                year: 1895,
                description: `<p class="text-gray-600 leading-relaxed mb-6">Step back in time with this beautifully restored Victorian house in San Francisco's most desirable neighborhood. This historic gem combines original period details with modern updates, offering the best of both worlds.</p><p class="text-gray-600 leading-relaxed mb-6">Original hardwood floors, ornate moldings, and stained glass windows showcase the home's Victorian heritage, while the updated kitchen and bathrooms provide modern convenience. The home features spacious rooms, high ceilings, and a charming backyard garden.</p><p class="text-gray-600 leading-relaxed mb-6">A rare opportunity to own a piece of San Francisco history with contemporary comfort.</p>`,
                image: 'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?q=80&w=2000',
                images: [
                    'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?q=80&w=400',
                    'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?q=80&w=400',
                    'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?q=80&w=400',
                    'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?q=80&w=400'
                ]
            },
            '6': {
                name: 'Waterfront Apartment',
                location: 'Miami, Florida',
                price: '$975,000',
                beds: 2,
                baths: 2,
                sqft: '1,600',
                garage: 1,
                year: 2023,
                description: `<p class="text-gray-600 leading-relaxed mb-6">Discover waterfront luxury in this brand new Miami apartment with spectacular bay views. This modern residence features floor-to-ceiling windows, sleek contemporary design, and premium finishes throughout.</p><p class="text-gray-600 leading-relaxed mb-6">The open-concept living area flows seamlessly to a private balcony overlooking the water. The building offers resort-style amenities including an infinity pool, spa, fitness center, and private marina access.</p><p class="text-gray-600 leading-relaxed mb-6">Experience the Miami lifestyle in this stunning waterfront retreat.</p>`,
                image: 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2000',
                images: [
                    'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=400',
                    'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=400',
                    'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=400',
                    'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=400'
                ]
            }
        };

        // Function to populate modal with property data
        function openPropertyModal(propertyId) {
            const property = propertyData[propertyId];
            if (!property) {
                console.error('Property not found:', propertyId);
                return;
            }

            console.log('Opening property:', property.name);

            // Update main image
            document.getElementById('modalMainImage').src = property.image;

            // Update thumbnails
            const thumbnails = document.querySelectorAll('#propertyModal .grid.grid-cols-4 img');
            property.images.forEach((img, index) => {
                if (thumbnails[index]) {
                    thumbnails[index].src = img;
                }
            });

            // Update property details
            document.getElementById('modalPrice').textContent = property.price;
            document.getElementById('modalTitle').textContent = property.name;
            document.getElementById('modalLocation').textContent = property.location;
            document.getElementById('modalBeds').textContent = property.beds;
            document.getElementById('modalBaths').textContent = property.baths;
            document.getElementById('modalSqft').textContent = property.sqft;
            document.getElementById('modalGarage').textContent = property.garage;
            document.getElementById('modalYear').textContent = property.year;

            // Update description
            document.getElementById('modalDescription').innerHTML = property.description;

            // Show modal
            propertyModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        // Open modal when clicking "View Details" buttons
        viewDetailsButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();

                // Get property ID from the card
                const propertyCard = button.closest('.property-card');
                const propertyId = propertyCard.querySelector('.compare-input').dataset.propertyId;

                openPropertyModal(propertyId);
            });
        });

        // Close modal
        closeModal.addEventListener('click', () => {
            propertyModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        });

        // Close modal when clicking outside
        propertyModal.addEventListener('click', (e) => {
            if (e.target === propertyModal) {
                propertyModal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }
        });

        // Tab switching
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');

        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const tabName = button.getAttribute('data-tab');

                // Remove active class from all buttons
                tabButtons.forEach(btn => {
                    btn.classList.remove('active');
                    btn.style.borderColor = 'transparent';
                    btn.classList.add('text-gray-600');
                    btn.classList.remove('text-blue-900');
                });

                // Add active class to clicked button
                button.classList.add('active');
                button.style.borderColor = 'var(--primary)';
                button.style.color = 'var(--primary)';
                button.classList.remove('text-gray-600');

                // Hide all tab contents
                tabContents.forEach(content => {
                    content.classList.add('hidden');
                });

                // Show selected tab content
                document.getElementById(`${tabName}-content`).classList.remove('hidden');
            });
        });

        // Change modal main image
        function changeModalImage(src) {
            const modalMainImage = document.getElementById('modalMainImage');
            // Replace 400 width with 2000 for higher resolution
            const highResSrc = src.replace('w=400', 'w=2000');
            modalMainImage.src = highResSrc;
        }

        // Make changeModalImage available globally
        window.changeModalImage = changeModalImage;

        // Mobile Menu Toggle
        const mobileMenuButton = document.getElementById('mobileMenuButton');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileMenuLinks = mobileMenu.querySelectorAll('a');

        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
            const icon = mobileMenuButton.querySelector('i');

            if (mobileMenu.classList.contains('hidden')) {
                icon.classList.remove('bi-x-lg');
                icon.classList.add('bi-list');
            } else {
                icon.classList.remove('bi-list');
                icon.classList.add('bi-x-lg');
            }
        });

        // Close mobile menu when clicking on links
        mobileMenuLinks.forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
                const icon = mobileMenuButton.querySelector('i');
                icon.classList.remove('bi-x-lg');
                icon.classList.add('bi-list');
            });
        });

        // Property Comparison System
        const compareBar = document.getElementById('compareBar');
        const compareCount = document.getElementById('compareCount');
        const compareModal = document.getElementById('compareModal');
        const closeCompareModal = document.getElementById('closeCompareModal');
        const openCompareModal = document.getElementById('openCompareModal');
        const clearCompare = document.getElementById('clearCompare');
        const compareInputs = document.querySelectorAll('.compare-input');
        const comparisonTableBody = document.getElementById('comparisonTableBody');

        let selectedProperties = [];

        // Handle compare checkbox changes
        compareInputs.forEach(input => {
            input.addEventListener('change', (e) => {
                const propertyData = {
                    id: e.target.dataset.propertyId,
                    name: e.target.dataset.propertyName,
                    price: e.target.dataset.propertyPrice,
                    beds: e.target.dataset.propertyBeds,
                    baths: e.target.dataset.propertyBaths,
                    sqft: e.target.dataset.propertySqft,
                    location: e.target.dataset.propertyLocation,
                    image: e.target.dataset.propertyImage
                };

                if (e.target.checked) {
                    if (selectedProperties.length < 3) {
                        selectedProperties.push(propertyData);
                        e.target.parentElement.querySelector('i').style.color = 'var(--accent)';
                    } else {
                        e.target.checked = false;
                        alert('You can only compare up to 3 properties');
                    }
                } else {
                    selectedProperties = selectedProperties.filter(p => p.id !== propertyData.id);
                    e.target.parentElement.querySelector('i').style.color = '#374151';
                }

                updateCompareBar();
            });
        });

        function updateCompareBar() {
            compareCount.textContent = selectedProperties.length;

            if (selectedProperties.length > 0) {
                compareBar.classList.remove('hidden');
            } else {
                compareBar.classList.add('hidden');
            }
        }

        // Clear all comparisons
        clearCompare.addEventListener('click', () => {
            selectedProperties = [];
            compareInputs.forEach(input => {
                input.checked = false;
                input.parentElement.querySelector('i').style.color = '#374151';
            });
            updateCompareBar();
        });

        // Open comparison modal
        openCompareModal.addEventListener('click', () => {
            if (selectedProperties.length < 2) {
                alert('Please select at least 2 properties to compare');
                return;
            }

            buildComparisonTable();
            compareModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        });

        // Close comparison modal
        closeCompareModal.addEventListener('click', () => {
            compareModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        });

        // Close modal when clicking outside
        compareModal.addEventListener('click', (e) => {
            if (e.target === compareModal) {
                compareModal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }
        });

        function buildComparisonTable() {
            // Build header row with property images and names
            const headerRow = document.querySelector('#comparisonContent thead tr');
            headerRow.innerHTML = '<th class="text-left p-4 bg-gray-50 font-bold text-gray-900 sticky left-0 z-10 border-r border-gray-200">Feature</th>';

            selectedProperties.forEach(property => {
                headerRow.innerHTML += `
                    <th class="p-4 bg-gray-50 border-r border-gray-200">
                        <img src="${property.image}" alt="${property.name}" class="w-full h-32 object-cover rounded-lg mb-3">
                        <p class="font-bold text-gray-900">${property.name}</p>
                        <p class="text-sm text-gray-600">${property.location}</p>
                    </th>
                `;
            });

            // Build comparison rows
            const features = [
                { label: 'Price', key: 'price', formatter: (val) => '$' + parseInt(val).toLocaleString() },
                { label: 'Bedrooms', key: 'beds', formatter: (val) => val },
                { label: 'Bathrooms', key: 'baths', formatter: (val) => val },
                { label: 'Square Feet', key: 'sqft', formatter: (val) => parseInt(val).toLocaleString() + ' sq ft' },
                { label: 'Location', key: 'location', formatter: (val) => val },
                { label: 'Price per Sq Ft', key: null, formatter: (val, property) => '$' + Math.round(property.price / property.sqft).toLocaleString() }
            ];

            comparisonTableBody.innerHTML = '';

            features.forEach((feature, index) => {
                let row = `<tr class="${index % 2 === 0 ? 'bg-white' : 'bg-gray-50'}">`;
                row += `<td class="p-4 font-semibold text-gray-900 sticky left-0 z-10 border-r border-gray-200 ${index % 2 === 0 ? 'bg-white' : 'bg-gray-50'}">${feature.label}</td>`;

                selectedProperties.forEach(property => {
                    const value = feature.key ? property[feature.key] : null;
                    const displayValue = feature.formatter(value, property);
                    row += `<td class="p-4 text-center text-gray-700 border-r border-gray-200">${displayValue}</td>`;
                });

                row += '</tr>';
                comparisonTableBody.innerHTML += row;
            });
        }

        // Favorites System with localStorage
        const favoritesModal = document.getElementById('favoritesModal');
        const closeFavoritesModal = document.getElementById('closeFavoritesModal');
        const viewFavorites = document.getElementById('viewFavorites');
        const favCount = document.getElementById('favCount');
        const favoritesGrid = document.getElementById('favoritesGrid');
        const emptyFavorites = document.getElementById('emptyFavorites');
        const favoriteButtons = document.querySelectorAll('.favorite-btn');

        // Load favorites from localStorage
        let favorites = JSON.parse(localStorage.getItem('favorites')) || [];

        // Initialize favorites on page load
        function initializeFavorites() {
            updateFavoriteButtons();
            updateFavoriteCount();
        }

        // Handle favorite button clicks
        favoriteButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                e.stopPropagation();
                const propertyId = button.dataset.propertyId;
                const propertyCard = button.closest('.property-card');

                const propertyData = {
                    id: propertyId,
                    name: propertyCard.querySelector('h3').textContent,
                    price: propertyCard.querySelector('.text-3xl').textContent,
                    location: propertyCard.querySelector('.bi-geo-alt').parentElement.textContent.trim(),
                    beds: propertyCard.querySelector('.bi-door-open').parentElement.textContent.trim(),
                    baths: propertyCard.querySelectorAll('.text-center')[1].querySelector('.font-semibold').textContent.trim(),
                    sqft: propertyCard.querySelectorAll('.text-center')[2].querySelector('.font-semibold').textContent.trim(),
                    image: propertyCard.querySelector('img').src
                };

                const existingIndex = favorites.findIndex(f => f.id === propertyId);

                if (existingIndex === -1) {
                    // Add to favorites
                    favorites.push(propertyData);
                    button.querySelector('i').classList.remove('bi-heart');
                    button.querySelector('i').classList.add('bi-heart-fill');
                    button.querySelector('i').style.color = '#ef4444'; // red-500
                } else {
                    // Remove from favorites
                    favorites.splice(existingIndex, 1);
                    button.querySelector('i').classList.remove('bi-heart-fill');
                    button.querySelector('i').classList.add('bi-heart');
                    button.querySelector('i').style.color = '#374151'; // gray-700
                }

                // Save to localStorage
                localStorage.setItem('favorites', JSON.stringify(favorites));
                updateFavoriteCount();
            });
        });

        function updateFavoriteButtons() {
            favoriteButtons.forEach(button => {
                const propertyId = button.dataset.propertyId;
                const isFavorite = favorites.some(f => f.id === propertyId);

                if (isFavorite) {
                    button.querySelector('i').classList.remove('bi-heart');
                    button.querySelector('i').classList.add('bi-heart-fill');
                    button.querySelector('i').style.color = '#ef4444';
                } else {
                    button.querySelector('i').classList.remove('bi-heart-fill');
                    button.querySelector('i').classList.add('bi-heart');
                    button.querySelector('i').style.color = '#374151';
                }
            });
        }

        function updateFavoriteCount() {
            const count = favorites.length;
            favCount.textContent = count;

            if (count > 0) {
                favCount.classList.remove('hidden');
            } else {
                favCount.classList.add('hidden');
            }
        }

        // Open favorites modal
        viewFavorites.addEventListener('click', () => {
            buildFavoritesGrid();
            favoritesModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        });

        // Close favorites modal
        closeFavoritesModal.addEventListener('click', () => {
            favoritesModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        });

        // Close modal when clicking outside
        favoritesModal.addEventListener('click', (e) => {
            if (e.target === favoritesModal) {
                favoritesModal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }
        });

        function buildFavoritesGrid() {
            if (favorites.length === 0) {
                favoritesGrid.classList.add('hidden');
                emptyFavorites.classList.remove('hidden');
                return;
            }

            favoritesGrid.classList.remove('hidden');
            emptyFavorites.classList.add('hidden');
            favoritesGrid.innerHTML = '';

            favorites.forEach(property => {
                const card = `
                    <div class="bg-gray-50 rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-shadow">
                        <div class="relative">
                            <img src="${property.image}" alt="${property.name}" class="w-full h-48 object-cover">
                            <button class="remove-favorite absolute top-4 right-4 w-10 h-10 bg-white rounded-full flex items-center justify-center hover:scale-110 transition-transform" data-property-id="${property.id}">
                                <i class="bi bi-x-lg text-gray-700"></i>
                            </button>
                        </div>
                        <div class="p-6">
                            <div class="text-2xl font-bold mb-2" style="color: var(--primary);">${property.price}</div>
                            <h3 class="text-xl font-bold mb-2 text-gray-900">${property.name}</h3>
                            <p class="text-gray-600 mb-4 flex items-center text-sm">
                                <i class="bi bi-geo-alt mr-2"></i>${property.location}
                            </p>
                            <div class="grid grid-cols-3 gap-2 text-sm">
                                <div class="text-center">
                                    <div class="font-semibold text-gray-900">${property.beds}</div>
                                    <div class="text-xs text-gray-600">Beds</div>
                                </div>
                                <div class="text-center">
                                    <div class="font-semibold text-gray-900">${property.baths}</div>
                                    <div class="text-xs text-gray-600">Baths</div>
                                </div>
                                <div class="text-center">
                                    <div class="font-semibold text-gray-900">${property.sqft}</div>
                                    <div class="text-xs text-gray-600">Sq Ft</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                favoritesGrid.innerHTML += card;
            });

            // Add event listeners to remove buttons
            document.querySelectorAll('.remove-favorite').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const propertyId = btn.dataset.propertyId;
                    favorites = favorites.filter(f => f.id !== propertyId);
                    localStorage.setItem('favorites', JSON.stringify(favorites));
                    buildFavoritesGrid();
                    updateFavoriteButtons();
                    updateFavoriteCount();
                });
            });
        }

        // Initialize favorites on page load
        initializeFavorites();

        // Live Property Search and Filtering
        const filterLocation = document.getElementById('filterLocation');
        const filterType = document.getElementById('filterType');
        const filterBeds = document.getElementById('filterBeds');
        const filterBaths = document.getElementById('filterBaths');
        const filterPrice = document.getElementById('filterPrice');
        const filterPriceValue = document.getElementById('priceValue');
        const resetFilters = document.getElementById('resetFilters');
        const propertyGrid = document.getElementById('propertyGrid');
        const noResults = document.getElementById('noResults');
        const resultsCount = document.getElementById('resultsCount');
        const filterResultsText = document.getElementById('filterResultsText');
        const amenityFilters = document.querySelectorAll('.amenity-filter');

        // Get property cards
        function getPropertyCards() {
            return document.querySelectorAll('.property-card');
        }

        // Update price value display
        filterPrice.addEventListener('input', (e) => {
            const value = parseInt(e.target.value);
            if (value >= 5000000) {
                filterPriceValue.textContent = '$5,000,000+';
            } else {
                filterPriceValue.textContent = '$' + value.toLocaleString();
            }
        });

        // Apply filters on change - with scroll
        filterLocation.addEventListener('change', () => {
            applyFilters();
            scrollToResults();
        });
        filterType.addEventListener('change', () => {
            applyFilters();
            scrollToResults();
        });
        filterBeds.addEventListener('change', () => {
            applyFilters();
            scrollToResults();
        });
        filterBaths.addEventListener('change', () => {
            applyFilters();
            scrollToResults();
        });
        filterPrice.addEventListener('change', () => {
            applyFilters();
            scrollToResults();
        });

        // Add amenity filter listeners
        amenityFilters.forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                applyFilters();
                scrollToResults();
            });
        });

        // Scroll to results
        function scrollToResults() {
            const propertiesSection = document.getElementById('properties');
            if (propertiesSection) {
                propertiesSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        function applyFilters() {
            const filters = {
                location: filterLocation.value,
                type: filterType.value,
                beds: parseInt(filterBeds.value),
                baths: parseInt(filterBaths.value),
                maxPrice: parseInt(filterPrice.value),
                amenities: Array.from(amenityFilters).filter(cb => cb.checked).map(cb => cb.dataset.amenity)
            };

            let visibleCount = 0;
            const propertyCards = getPropertyCards();

            propertyCards.forEach(card => {
                const cardData = {
                    location: card.dataset.location,
                    type: card.dataset.type,
                    beds: parseInt(card.dataset.beds),
                    baths: parseFloat(card.dataset.baths),
                    price: parseInt(card.dataset.price),
                    amenities: card.dataset.amenities ? card.dataset.amenities.split(',') : []
                };

                let matches = true;

                // Check location (exact match on data-location attribute)
                if (filters.location && cardData.location !== filters.location) {
                    matches = false;
                }

                // Check type
                if (filters.type && cardData.type !== filters.type) {
                    matches = false;
                }

                // Check bedrooms (minimum)
                if (filters.beds > 0 && cardData.beds < filters.beds) {
                    matches = false;
                }

                // Check bathrooms (minimum)
                if (filters.baths > 0 && cardData.baths < filters.baths) {
                    matches = false;
                }

                // Check price (maximum)
                if (filters.maxPrice < 5000000 && cardData.price > filters.maxPrice) {
                    matches = false;
                }

                // Check amenities (must have ALL selected amenities)
                if (filters.amenities.length > 0) {
                    const hasAllAmenities = filters.amenities.every(amenity =>
                        cardData.amenities.includes(amenity)
                    );
                    if (!hasAllAmenities) {
                        matches = false;
                    }
                }

                // Show/hide card with animation
                if (matches) {
                    card.style.display = 'block';
                    card.style.animation = 'slideIn 0.3s ease';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });

            // Show/hide property grid and no results
            if (visibleCount > 0) {
                propertyGrid.style.display = 'grid';
                noResults.classList.add('hidden');
                resultsCount.querySelector('span').textContent = visibleCount;

                // Update filter results text
                if (filterResultsText) {
                    const hasActiveFilters = filters.location || filters.type || filters.beds > 0 || filters.baths > 0 || filters.maxPrice < 5000000;
                    if (hasActiveFilters) {
                        filterResultsText.innerHTML = `<span class="font-bold">${visibleCount} ${visibleCount === 1 ? 'property' : 'properties'}</span> found matching your criteria`;
                    } else {
                        filterResultsText.textContent = 'Use filters above to search properties';
                    }
                }
            } else {
                propertyGrid.style.display = 'none';
                noResults.classList.remove('hidden');

                // Update filter results text
                if (filterResultsText) {
                    filterResultsText.innerHTML = '<span class="font-bold text-red-500">No properties found</span> - Try adjusting your filters';
                }
            }
        }

        // Reset filters
        resetFilters.addEventListener('click', () => {
            filterLocation.value = '';
            filterType.value = '';
            filterBeds.value = '0';
            filterBaths.value = '0';
            filterPrice.value = '5000000';
            filterPriceValue.textContent = '$5,000,000+';

            // Uncheck all amenity filters
            amenityFilters.forEach(checkbox => {
                checkbox.checked = false;
            });

            applyFilters();
            scrollToResults();
        });

        // Initialize: show all properties
        filterPriceValue.textContent = '$5,000,000+';
        applyFilters();

        // Hero Search Bar Integration
        const heroSearchButton = document.getElementById('heroSearchButton');
        const heroSearchLocation = document.getElementById('heroSearchLocation');
        const heroSearchType = document.getElementById('heroSearchType');
        const heroSearchPrice = document.getElementById('heroSearchPrice');

        heroSearchButton.addEventListener('click', () => {
            // Get hero search values
            const locationInput = heroSearchLocation.value.trim();
            const typeValue = heroSearchType.value;
            const priceValue = heroSearchPrice.value;

            // Map location input to filter options
            if (locationInput) {
                // Check if the input matches any of our locations
                const locations = ['Los Angeles', 'New York', 'Miami', 'San Francisco'];
                const matchedLocation = locations.find(loc =>
                    locationInput.toLowerCase().includes(loc.toLowerCase())
                );

                if (matchedLocation) {
                    filterLocation.value = matchedLocation;
                } else {
                    // If no match, reset location filter
                    filterLocation.value = '';
                }
            } else {
                filterLocation.value = '';
            }

            // Set property type
            filterType.value = typeValue;

            // Set price
            filterPrice.value = priceValue;
            if (parseInt(priceValue) >= 5000000) {
                filterPriceValue.textContent = '$5,000,000+';
            } else {
                filterPriceValue.textContent = '$' + parseInt(priceValue).toLocaleString();
            }

            // Apply filters and scroll to results
            applyFilters();
            scrollToResults();
        });

        // Allow Enter key in location input
        heroSearchLocation.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                heroSearchButton.click();
            }
        });

        // Debug: Check if elements exist
        console.log('Property Modal:', propertyModal);
        console.log('View Details Buttons:', viewDetailsButtons.length);
        console.log('Favorites Modal:', favoritesModal);
        console.log('View Favorites Button:', viewFavorites);

        // Virtual Tour Interactive Elements
        const start360Button = document.getElementById('start360Tour');
        const tourHotspots = document.getElementById('tour-hotspots');
        const tourInstructions = document.getElementById('tour-instructions');
        const panoramaImage = document.getElementById('panoramaImage');

        // Room data
        const roomImages = [
            'https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?q=80&w=2000', // Living Room
            'https://images.unsplash.com/photo-1556911220-bff31c812dba?q=80&w=2000', // Kitchen
            'https://images.unsplash.com/photo-1616594039964-ae9021a400a0?q=80&w=2000'  // Bedroom
        ];
        const roomNames = ['Living Room', 'Kitchen', 'Master Bedroom'];

        // Function to change room
        function changeRoom(roomIndex) {
            console.log('Changing to room:', roomNames[roomIndex]);

            if (!panoramaImage || !roomImages[roomIndex]) {
                console.error('Missing panorama image or room data');
                return;
            }

            // Fade out
            panoramaImage.style.transition = 'opacity 0.3s ease';
            panoramaImage.style.opacity = '0';

            setTimeout(() => {
                // Change image
                panoramaImage.src = roomImages[roomIndex];

                // Fade in
                setTimeout(() => {
                    panoramaImage.style.opacity = '1';
                }, 50);

                // Update room label
                const roomLabel = document.querySelector('#tour-viewer .absolute.top-4 p');
                if (roomLabel) {
                    roomLabel.innerHTML = `<i class="bi bi-geo-alt-fill mr-2" style="color: var(--secondary);"></i>${roomNames[roomIndex]}`;
                }
            }, 300);
        }

        // Setup virtual tour
        if (start360Button) {
            console.log('Virtual tour button found');

            start360Button.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                console.log('Starting virtual tour');

                // Hide the start button
                start360Button.parentElement.classList.add('hidden');

                // Show hotspots and instructions
                if (tourHotspots) {
                    tourHotspots.classList.remove('hidden');
                    console.log('Hotspots shown');
                }
                if (tourInstructions) {
                    tourInstructions.classList.remove('hidden');
                }

                // Setup hotspot click handlers NOW (after they're visible)
                setTimeout(() => {
                    const hotspotButtons = document.querySelectorAll('#tour-hotspots button');
                    console.log('Found hotspot buttons:', hotspotButtons.length);

                    hotspotButtons.forEach((button, index) => {
                        // Remove any existing listeners
                        const newButton = button.cloneNode(true);
                        button.parentNode.replaceChild(newButton, button);

                        // Add new listener
                        newButton.addEventListener('click', (e) => {
                            e.preventDefault();
                            e.stopPropagation();
                            console.log('Hotspot clicked:', index);
                            changeRoom(index);
                        });
                    });
                }, 100);
            });
        } else {
            console.error('Virtual tour button not found');
        }

        // Schedule Tour Modal
        const scheduleTourModal = document.getElementById('scheduleTourModal');
        const scheduleTourBtn = document.getElementById('scheduleTourBtn');
        const closeScheduleTour = document.getElementById('closeScheduleTour');
        const calendarDays = document.getElementById('calendarDays');
        const currentMonthElement = document.getElementById('currentMonth');
        const prevMonthBtn = document.getElementById('prevMonth');
        const nextMonthBtn = document.getElementById('nextMonth');
        const timeSlots = document.getElementById('timeSlots');
        const confirmTourBtn = document.getElementById('confirmTourBtn');
        const tourSummary = document.getElementById('tourSummary');

        let currentDate = new Date();
        let selectedDate = null;
        let selectedTime = null;

        // Generate time slots (9 AM to 6 PM, hourly)
        const availableTimeSlots = [
            '9:00 AM', '10:00 AM', '11:00 AM', '12:00 PM',
            '1:00 PM', '2:00 PM', '3:00 PM', '4:00 PM', '5:00 PM', '6:00 PM'
        ];

        // Open schedule tour modal
        if (scheduleTourBtn) {
            scheduleTourBtn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                scheduleTourModal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
                renderCalendar();
                generateTimeSlots();
            });
        }

        // Close schedule tour modal
        if (closeScheduleTour) {
            closeScheduleTour.addEventListener('click', function() {
                scheduleTourModal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            });
        }

        // Close on backdrop click
        scheduleTourModal?.addEventListener('click', function(e) {
            if (e.target === scheduleTourModal) {
                scheduleTourModal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }
        });

        // Calendar navigation
        prevMonthBtn?.addEventListener('click', function() {
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderCalendar();
        });

        nextMonthBtn?.addEventListener('click', function() {
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderCalendar();
        });

        // Render calendar
        function renderCalendar() {
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();

            // Update month display
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                'July', 'August', 'September', 'October', 'November', 'December'];
            currentMonthElement.textContent = `${monthNames[month]} ${year}`;

            // Get first day of month and number of days
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const today = new Date();
            today.setHours(0, 0, 0, 0);

            // Clear calendar
            calendarDays.innerHTML = '';

            // Add empty cells for days before month starts
            for (let i = 0; i < firstDay; i++) {
                const emptyCell = document.createElement('div');
                emptyCell.className = 'aspect-square';
                calendarDays.appendChild(emptyCell);
            }

            // Add day cells
            for (let day = 1; day <= daysInMonth; day++) {
                const dayDate = new Date(year, month, day);
                dayDate.setHours(0, 0, 0, 0);
                const isPast = dayDate < today;
                const isSelected = selectedDate &&
                    selectedDate.getDate() === day &&
                    selectedDate.getMonth() === month &&
                    selectedDate.getFullYear() === year;

                const dayCell = document.createElement('button');
                dayCell.textContent = day;
                dayCell.className = `aspect-square flex items-center justify-center rounded-lg text-sm font-medium transition-all ${
                    isPast
                        ? 'text-gray-300 cursor-not-allowed'
                        : isSelected
                            ? 'bg-blue-900 text-white scale-105'
                            : 'text-gray-900 hover:bg-blue-100 hover:scale-105'
                }`;

                if (!isPast) {
                    dayCell.addEventListener('click', function() {
                        selectedDate = new Date(year, month, day);
                        renderCalendar();
                        updateSummary();
                        checkFormComplete();
                    });
                } else {
                    dayCell.disabled = true;
                }

                calendarDays.appendChild(dayCell);
            }
        }

        // Generate time slots
        function generateTimeSlots() {
            timeSlots.innerHTML = '';

            availableTimeSlots.forEach(time => {
                const slot = document.createElement('button');
                slot.textContent = time;
                slot.className = `w-full py-3 px-4 rounded-lg text-sm font-medium transition-all border-2 ${
                    selectedTime === time
                        ? 'bg-blue-900 text-white border-blue-900'
                        : 'bg-white text-gray-900 border-gray-300 hover:border-blue-900 hover:bg-blue-50'
                }`;

                slot.addEventListener('click', function() {
                    selectedTime = time;
                    generateTimeSlots();
                    updateSummary();
                    checkFormComplete();
                });

                timeSlots.appendChild(slot);
            });
        }

        // Update tour summary
        function updateSummary() {
            if (selectedDate || selectedTime) {
                tourSummary.classList.remove('hidden');

                if (selectedDate) {
                    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                    document.getElementById('summaryDate').textContent = selectedDate.toLocaleDateString('en-US', options);
                } else {
                    document.getElementById('summaryDate').textContent = 'No date selected';
                }

                if (selectedTime) {
                    document.getElementById('summaryTime').textContent = selectedTime;
                } else {
                    document.getElementById('summaryTime').textContent = 'No time selected';
                }
            }
        }

        // Update tour type in summary
        document.querySelectorAll('input[name="tourType"]').forEach(radio => {
            radio.addEventListener('change', function() {
                const tourType = this.value === 'in-person' ? 'In-Person Tour' : 'Virtual Video Tour';
                document.getElementById('summaryType').textContent = tourType;
            });
        });

        // Check if form is complete
        function checkFormComplete() {
            const name = document.getElementById('tourName').value.trim();
            const email = document.getElementById('tourEmail').value.trim();
            const phone = document.getElementById('tourPhone').value.trim();

            if (selectedDate && selectedTime && name && email && phone) {
                confirmTourBtn.disabled = false;
            } else {
                confirmTourBtn.disabled = true;
            }
        }

        // Add input listeners for form validation
        ['tourName', 'tourEmail', 'tourPhone'].forEach(id => {
            const input = document.getElementById(id);
            if (input) {
                input.addEventListener('input', checkFormComplete);
            }
        });

        // Confirm tour button
        if (confirmTourBtn) {
            confirmTourBtn.addEventListener('click', function() {
                const name = document.getElementById('tourName').value.trim();
                const email = document.getElementById('tourEmail').value.trim();
                const phone = document.getElementById('tourPhone').value.trim();
                const guests = document.getElementById('tourGuests').value;
                const notes = document.getElementById('tourNotes').value.trim();
                const tourType = document.querySelector('input[name="tourType"]:checked').value;

                // Show success message
                alert(`Tour scheduled successfully!\n\nDate: ${selectedDate.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}\nTime: ${selectedTime}\nType: ${tourType === 'in-person' ? 'In-Person' : 'Virtual'}\nGuests: ${guests}\n\nA confirmation email will be sent to ${email}`);

                // Reset form and close modal
                scheduleTourModal.classList.add('hidden');
                document.body.style.overflow = 'auto';

                // Reset selections
                selectedDate = null;
                selectedTime = null;
                document.getElementById('tourName').value = '';
                document.getElementById('tourEmail').value = '';
                document.getElementById('tourPhone').value = '';
                document.getElementById('tourNotes').value = '';
                tourSummary.classList.add('hidden');
            });
        }

        // Market Statistics Charts
        if (typeof Chart !== 'undefined') {
            // Price Trend Chart
            const priceChartCanvas = document.getElementById('priceChart');
            if (priceChartCanvas) {
                const priceCtx = priceChartCanvas.getContext('2d');
                const priceChart = new Chart(priceCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],
                        datasets: [{
                            label: 'Average Price',
                            data: [723000, 735000, 748000, 762000, 775000, 789000, 802000, 816000, 831000, 847000],
                            borderColor: '#1e3a8a',
                            backgroundColor: 'rgba(30, 58, 138, 0.1)',
                            borderWidth: 3,
                            tension: 0.4,
                            fill: true,
                            pointRadius: 4,
                            pointBackgroundColor: '#1e3a8a',
                            pointBorderColor: '#fff',
                            pointBorderWidth: 2,
                            pointHoverRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                padding: 12,
                                titleFont: { size: 14, weight: 'bold' },
                                bodyFont: { size: 13 },
                                callbacks: {
                                    label: function(context) {
                                        return '$' + context.parsed.y.toLocaleString();
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: false,
                                ticks: {
                                    callback: function(value) {
                                        return '$' + (value / 1000) + 'K';
                                    }
                                },
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.05)'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });

                // Update chart when period changes
                const priceChartPeriod = document.getElementById('priceChartPeriod');
                if (priceChartPeriod) {
                    priceChartPeriod.addEventListener('change', function() {
                        const period = this.value;
                        let newLabels, newData;

                        if (period === '6m') {
                            newLabels = ['May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'];
                            newData = [775000, 789000, 802000, 816000, 831000, 847000];
                        } else if (period === '1y') {
                            newLabels = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'];
                            newData = [723000, 735000, 748000, 762000, 775000, 789000, 802000, 816000, 831000, 847000];
                        } else { // 2y
                            newLabels = ['Q1 23', 'Q2 23', 'Q3 23', 'Q4 23', 'Q1 24', 'Q2 24', 'Q3 24', 'Q4 24', 'Q1 25', 'Q2 25', 'Q3 25'];
                            newData = [650000, 665000, 680000, 695000, 710000, 725000, 740000, 755000, 770000, 810000, 847000];
                        }

                        priceChart.data.labels = newLabels;
                        priceChart.data.datasets[0].data = newData;
                        priceChart.update();
                    });
                }
            }

            // Volume Chart
            const volumeChartCanvas = document.getElementById('volumeChart');
            if (volumeChartCanvas) {
                const volumeCtx = volumeChartCanvas.getContext('2d');
                const volumeChart = new Chart(volumeCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],
                        datasets: [{
                            label: 'Sales',
                            data: [720, 695, 740, 710, 785, 810, 795, 825, 850, 834],
                            backgroundColor: '#1e3a8a',
                            borderRadius: 6,
                            borderSkipped: false
                        }, {
                            label: 'Listings',
                            data: [1180, 1150, 1210, 1175, 1240, 1280, 1220, 1265, 1295, 1247],
                            backgroundColor: '#f59e0b',
                            borderRadius: 6,
                            borderSkipped: false
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                padding: 12,
                                titleFont: { size: 14, weight: 'bold' },
                                bodyFont: { size: 13 }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.05)'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }

            // Property Types Pie Chart
            const propertyTypesCanvas = document.getElementById('propertyTypesChart');
            if (propertyTypesCanvas) {
                const propertyTypesCtx = propertyTypesCanvas.getContext('2d');
                const propertyTypesChart = new Chart(propertyTypesCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Single Family', 'Condos', 'Townhouses', 'Villas'],
                        datasets: [{
                            data: [42, 28, 18, 12],
                            backgroundColor: [
                                '#1e3a8a',
                                '#f59e0b',
                                '#10b981',
                                '#8b5cf6'
                            ],
                            borderWidth: 0,
                            hoverOffset: 10
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    padding: 15,
                                    font: {
                                        size: 12
                                    },
                                    generateLabels: function(chart) {
                                        const data = chart.data;
                                        return data.labels.map((label, i) => {
                                            const value = data.datasets[0].data[i];
                                            return {
                                                text: `${label} (${value}%)`,
                                                fillStyle: data.datasets[0].backgroundColor[i],
                                                hidden: false,
                                                index: i
                                            };
                                        });
                                    }
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                padding: 12,
                                titleFont: { size: 14, weight: 'bold' },
                                bodyFont: { size: 13 },
                                callbacks: {
                                    label: function(context) {
                                        return context.label + ': ' + context.parsed + '%';
                                    }
                                }
                            }
                        }
                    }
                });
            }
        }

    }); // End DOMContentLoaded

</script>
</body>
</html>
