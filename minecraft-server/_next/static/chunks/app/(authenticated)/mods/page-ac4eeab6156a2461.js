(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[194],{6996:function(e,t,n){Promise.resolve().then(n.bind(n,2774))},2774:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var s=n(7437),i=n(2265),l=n(9116),a=n(4226),r=n(9178),c=n(5998);function o(){let[e,t]=(0,i.useState)([]),[n,o]=(0,i.useState)(!0),[d,u]=(0,i.useState)(!1),[h,m]=(0,i.useState)(null),[f,x]=(0,i.useState)(!1),[b,g]=(0,i.useState)(null),p=(0,i.useRef)(null),j=async()=>{try{let e=await l.hi.get("/mods");t(e.mods||[])}catch(e){console.error("Failed to fetch mods:",e)}finally{o(!1)}};(0,i.useEffect)(()=>{j()},[]);let v=async e=>{var t;let n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){if(!n.name.endsWith(".jar")){alert("Please upload a .jar file");return}u(!0);try{await l.hi.upload("/mods/upload",n),await j(),p.current&&(p.current.value="")}catch(e){alert("Failed to upload mod: ".concat(e.message))}finally{u(!1)}}},w=async e=>{let t=e.enabled?"disable":"enable";m(e.file);try{await l.hi.post("/mods/".concat(t),{file:e.file}),await j()}catch(e){alert("Failed to ".concat(t," mod: ").concat(e.message))}finally{m(null)}},y=async()=>{if(b){m(b.file);try{await l.hi.post("/mods/delete",{file:b.file}),x(!1),await j()}catch(e){alert("Failed to delete mod: ".concat(e.message))}finally{m(null),g(null)}}};if(n)return(0,s.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});let N=e.filter(e=>e.enabled),z=e.filter(e=>!e.enabled);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Mods"}),(0,s.jsx)("p",{className:"text-zinc-400",children:"Manage your server modifications"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{ref:p,type:"file",accept:".jar",onChange:v,className:"hidden"}),(0,s.jsxs)(a.z,{variant:"primary",onClick:()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.click()},loading:d,children:[(0,s.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Upload Mod"]})]})]}),(0,s.jsx)(r.Z,{title:"Enabled Mods",children:0===N.length?(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("p",{className:"text-zinc-500",children:"No enabled mods"})}):(0,s.jsx)("div",{className:"space-y-2",children:N.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-zinc-900 rounded-lg border border-zinc-800",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-white font-medium",children:e.file}),e.size&&(0,s.jsx)("p",{className:"text-sm text-zinc-500",children:e.size})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(a.z,{size:"sm",variant:"secondary",onClick:()=>w(e),loading:h===e.file,disabled:null!==h,children:"Disable"}),(0,s.jsx)(a.z,{size:"sm",variant:"danger",onClick:()=>{g(e),x(!0)},disabled:null!==h,children:"Delete"})]})]},e.file))})}),(0,s.jsx)(r.Z,{title:"Disabled Mods",children:0===z.length?(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("p",{className:"text-zinc-500",children:"No disabled mods"})}):(0,s.jsx)("div",{className:"space-y-2",children:z.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-zinc-900 rounded-lg border border-zinc-800 opacity-60",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-zinc-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-white font-medium",children:e.file}),e.size&&(0,s.jsx)("p",{className:"text-sm text-zinc-500",children:e.size})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(a.z,{size:"sm",variant:"success",onClick:()=>w(e),loading:h===e.file,disabled:null!==h,children:"Enable"}),(0,s.jsx)(a.z,{size:"sm",variant:"danger",onClick:()=>{g(e),x(!0)},disabled:null!==h,children:"Delete"})]})]},e.file))})}),(0,s.jsxs)(c.u,{isOpen:f,onClose:()=>{x(!1),g(null)},onConfirm:y,title:"Delete Mod",confirmText:"Delete",confirmVariant:"danger",children:[(0,s.jsxs)("p",{children:["Are you sure you want to delete ",(0,s.jsx)("strong",{children:null==b?void 0:b.file}),"?"]}),(0,s.jsx)("p",{className:"text-red-400 mt-3",children:"This action cannot be undone."})]})]})}},4226:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var s=n(7437);function i(e){let{variant:t="primary",size:n="md",loading:i=!1,disabled:l,className:a="",children:r,...c}=e;return(0,s.jsxs)("button",{className:"".concat("inline-flex items-center justify-center rounded-lg font-medium transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#09090b] disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-zinc-800 hover:bg-zinc-700 text-white focus:ring-zinc-500",success:"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",ghost:"bg-transparent hover:bg-zinc-800 text-zinc-300 focus:ring-zinc-500"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[n]," ").concat(a),disabled:l||i,...c,children:[i&&(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r]})}n(2265)},9178:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(7437);function i(e){let{children:t,className:n="",title:i}=e;return(0,s.jsxs)("div",{className:"bg-[#18181b] border border-zinc-800 rounded-lg p-6 ".concat(n),children:[i&&(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4 text-white",children:i}),t]})}n(2265)},5998:function(e,t,n){"use strict";n.d(t,{u:function(){return a}});var s=n(7437),i=n(2265),l=n(4226);function a(e){let{isOpen:t,onClose:n,onConfirm:a,title:r,children:c,confirmText:o="Confirm",cancelText:d="Cancel",confirmVariant:u="primary"}=e;return((0,i.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t)?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-75",onClick:n}),(0,s.jsxs)("div",{className:"relative bg-zinc-900 border border-zinc-800 rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:r}),(0,s.jsx)("div",{className:"text-zinc-300 mb-6",children:c}),(0,s.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,s.jsx)(l.z,{variant:"ghost",onClick:n,children:d}),a&&(0,s.jsx)(l.z,{variant:u,onClick:a,children:o})]})]})]}):null}},9116:function(e,t,n){"use strict";n.d(t,{_4:function(){return a},hi:function(){return l}});let s="https://panel.sebkucera.dev";class i extends Error{constructor(e,t){super(t),this.status=e,this.name="ApiError"}}let l={async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=localStorage.getItem("token"),l={"Content-Type":"application/json",...t.headers};n&&(l.Authorization="Bearer ".concat(n));let a=await fetch("".concat(s).concat(e),{...t,headers:l});if(401===a.status)throw localStorage.removeItem("token"),window.location.href="/login",new i(401,"Unauthorized");if(!a.ok){let e=await a.text();throw new i(a.status,e||"Request failed")}let r=a.headers.get("content-type");return r&&r.includes("application/json")?a.json():a},get(e){return this.request(e,{method:"GET"})},post(e,t){return this.request(e,{method:"POST",body:t?JSON.stringify(t):void 0})},upload(e,t){let n=localStorage.getItem("token"),l=new FormData;l.append("file",t);let a={};return n&&(a.Authorization="Bearer ".concat(n)),fetch("".concat(s).concat(e),{method:"POST",headers:a,body:l}).then(async e=>{if(401===e.status)throw localStorage.removeItem("token"),window.location.href="/login",new i(401,"Unauthorized");if(!e.ok){let t=await e.text();throw new i(e.status,t||"Upload failed")}return e.json()})}},a="wss://panel.sebkucera.dev"}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6996)}),_N_E=e.O()}]);